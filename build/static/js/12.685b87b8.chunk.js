(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{156:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return p});var n=a(26),r=a(1),c=a.n(r),o=a(43),i=a(28),s=(a(4),a(8)),l=a(24),u=a(27);c.a.Component;c.a.Component;var d=function(e){function t(){return e.apply(this,arguments)||this}Object(n.a)(t,e);var a=t.prototype;return a.handleClick=function(e,t){(this.props.onClick&&this.props.onClick(e),e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},a.render=function(){var e=this,t=this.props,a=t.innerRef,n=(t.replace,t.to),r=Object(l.a)(t,["innerRef","replace","to"]);return c.a.createElement(o.__RouterContext.Consumer,null,function(t){t||Object(u.a)(!1);var o="string"===typeof n?Object(i.c)(n,null,null,t.location):n,l=o?t.history.createHref(o):"";return c.a.createElement("a",Object(s.a)({},r,{onClick:function(a){return e.handleClick(a,t.history)},href:l,ref:a}))})},t}(c.a.Component);function p(e){var t=e["aria-current"],a=void 0===t?"page":t,n=e.activeClassName,r=void 0===n?"active":n,i=e.activeStyle,u=e.className,p=e.exact,b=e.isActive,m=e.location,f=e.strict,E=e.style,h=e.to,O=Object(l.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),j="object"===typeof h?h.pathname:h,v=j&&j.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return c.a.createElement(o.Route,{path:v,exact:p,strict:f,location:m,children:function(e){var t=e.location,n=e.match,o=!!(b?b(n,t):n),l=o?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return e}).join(" ")}(u,r):u,p=o?Object(s.a)({},E,i):E;return c.a.createElement(d,Object(s.a)({"aria-current":o&&a||null,className:l,style:p,to:h},O))}})}},399:function(e,t,a){e.exports={AppbarNonAuth:"styles_AppbarNonAuth__1zar9",menuItem:"styles_menuItem__ZjxaD"}},400:function(e,t,a){e.exports={AppbarAuth:"styles_AppbarAuth__3BiBs",menuItem:"styles_menuItem__28cKS"}},401:function(e,t,a){e.exports={pageWrap:"styles_pageWrap__1EWNy",mainContent:"styles_mainContent__3QURM"}},405:function(e,t,a){"use strict";var n=a(30),r=a(42),c=a(114),o=a(113),i=a(115),s=a(1),l=a.n(s),u=a(31),d=a(16),p=a(43),b=a(51),m=a(884),f=a(399),E=a.n(f),h=function(e){var t=e.handleOpenModal;return l.a.createElement(m.a,{id:E.a.AppbarNonAuth,fixed:"top",borderless:!0,color:"blue",inverted:!0},l.a.createElement(m.a.Item,null,"Goal Plan"),l.a.createElement(m.a.Menu,{position:"right"},l.a.createElement(m.a.Item,{className:E.a.menuItem,onClick:function(){return t("RegisterModal",{})}},"Register"),l.a.createElement(m.a.Item,{className:E.a.menuItem,onClick:function(){return t("LoginModal",{item:{email:"",password:""}})}},"Log In")))},O=a(383),j=a(156),v=a(400),g=a.n(v),_=function(e){var t=e.handleLogout;return l.a.createElement(m.a,{id:g.a.AppbarAuth,fixed:"top",borderless:!0,color:"blue",inverted:!0},l.a.createElement(m.a.Item,{as:j.b,to:"/book",className:g.a.menuItem,activeClassName:g.a.activeItem},"Book"),l.a.createElement(m.a.Item,{as:j.b,to:"/word",className:g.a.menuItem,activeClassName:g.a.activeItem},"Word"),l.a.createElement(m.a.Item,{as:j.b,to:"/todo",className:g.a.menuItem,activeClassName:g.a.activeItem},"Todo"),l.a.createElement(m.a.Item,{as:j.b,to:"/diary",className:g.a.menuItem,activeClassName:g.a.activeItem},"Diary"),l.a.createElement(m.a.Menu,{position:"right"},l.a.createElement(m.a.Item,{className:g.a.menuItem,onClick:t},"Log Out")))},C=a(401),x=a.n(C),w=a(391),I=function(e){var t=e.children,a=e.auth,n=e.handleLogout,r=e.handleOpenModal,c=e.match;Object(b.a)(e,["children","auth","handleLogout","handleOpenModal","match"]);return l.a.createElement("div",{id:x.a.pageWrap},a&&"/welcome"===c.path&&l.a.createElement(p.Redirect,{to:"/book"}),!a&&l.a.createElement(h,{handleOpenModal:r}),a&&l.a.createElement(_,{handleLogout:n}),l.a.createElement("main",{className:x.a.mainContent},t),l.a.createElement(w.a,null),l.a.createElement(O.a,null))},k=a(14),L=a(21),M=a(116),y=a(33),R=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).handleLogout=function(){y.a.doSignOut(),a.props.clearAuth()},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(I,Object.assign({},this.props,{handleLogout:this.handleLogout}))}}]),t}(s.Component),S=Object(u.connect)(function(e){return{auth:Object(M.a)(e)}},function(e){return{handleOpenModal:function(t,a){return e(L.a.setModal(t,a))},clearAuth:function(){return e(k.a.clearUser())}}});t.a=Object(d.d)(S,p.withRouter)(R)},428:function(e,t,a){"use strict";var n=a(362),r=a.n(n),c=a(363),o=a.n(c),i=(a(4),a(1)),s=a.n(i),l=a(411),u=a(579),d=a(578),p=a(361);function b(e){var t=e.active,a=e.children,n=e.className,c=e.content,i=e.disabled,m=e.indeterminate,f=e.inline,E=e.inverted,h=e.size,O=o()("ui",h,Object(l.a)(t,"active"),Object(l.a)(i,"disabled"),Object(l.a)(m,"indeterminate"),Object(l.a)(E,"inverted"),Object(l.a)(a||c,"text"),Object(l.b)(f,"inline"),"loader",n),j=Object(u.a)(b,e),v=Object(d.a)(b,e);return s.a.createElement(v,r()({},j,{className:O}),p.b.isNil(a)?c:a)}b.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],b.propTypes={},t.a=b},429:function(e,t,a){"use strict";a.d(t,"f",function(){return r}),a.d(t,"d",function(){return c}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return i}),a.d(t,"e",function(){return s}),a.d(t,"c",function(){return l});var n=a(85),r=function(e){return e[n.b].get("items")},c=function(e){return e[n.b].get("isLoadingItems")},o=function(e){return e[n.b].get("filter")},i=function(e){return e[n.b].get("isLoadingCheck")},s=function(e){return e[n.b].get("item")},l=function(e){return e[n.b].get("isLoadingItem")}},481:function(e,t,a){"use strict";var n,r=a(6),c=a(9),o=a(85),i=a(22),s=a(385),l=a(44),u=function(e,t){var a=t.id;return e.setIn(["isLoadingCheck",a],!1)},d=Object(i.createReducer)(o.a,(n={},Object(r.a)(n,s.b.GET_ITEMS_REQUEST,function(e){return e.set("isLoadingItems",!0)}),Object(r.a)(n,s.b.GET_ITEMS_FAILURE,function(e){return e.set("isLoadingItems",!1)}),Object(r.a)(n,s.b.GET_ITEMS_SUCCESS,function(e,t){var a=t.items;return e.set("items",Object(c.fromJS)(a)).set("isLoadingItems",!1)}),Object(r.a)(n,s.b.CLEAR_ITEMS,function(e){return e.set("items",Object(c.fromJS)([]))}),Object(r.a)(n,s.b.SET_FILTER,function(e,t){var a=t.name,n=t.value;return e.setIn(["filter",a],n)}),Object(r.a)(n,s.b.CHECK_RECALL_REQUEST,function(e,t){var a=t.id;return e.setIn(["isLoadingCheck",a],!0)}),Object(r.a)(n,s.b.CHECK_RECALL_SUCCESS,u),Object(r.a)(n,s.b.CHECK_RECALL_FAILURE,u),Object(r.a)(n,s.b.GET_ITEM_REQUEST,function(e){return e.set("isLoadingItem",!0)}),Object(r.a)(n,s.b.GET_ITEM_SUCCESS,function(e,t){var a=t.item;return e.set("item",Object(c.fromJS)(a)).set("isLoadingItem",!1)}),Object(r.a)(n,s.b.GET_ITEM_FAILURE,function(e){return e.set("isLoadingItem",!1)}),Object(r.a)(n,s.b.CLEAR_ITEM,function(e){return e.set("item",Object(c.fromJS)({}))}),n));l.a.register(o.b,d)},538:function(e,t,a){"use strict";var n=a(51),r=a(13),c=a.n(r),o=a(5),i=a(385),s=a(375),l=a(21),u=a(36),d=function(e){return u.a.get("/api/words/",e)},p=function(e){return u.a.get("/api/words/".concat(e))},b=function(e){return u.a.post("/api/words/",e)},m=function(e,t){return u.a.put("/api/words/".concat(e),t)},f=function(e){return u.a.delete("/api/words/".concat(e))},E=function(e){return u.a.post("/api/words/check/".concat(e))},h=a(429),O=a(88),j=a(85),v=a(33),g=c.a.mark(L),_=c.a.mark(M),C=c.a.mark(y),x=c.a.mark(R),w=c.a.mark(S),I=c.a.mark(T),k=c.a.mark(W);function L(e){var t,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filter,n.prev=1,n.next=4,Object(o.b)(d,t);case 4:if("fail"!==(a=n.sent).data.result){n.next=7;break}throw new Error(a.error);case 7:return n.next=9,Object(o.c)({type:i.b.GET_ITEMS_SUCCESS,items:a.data.items});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(o.c)({type:i.b.GET_ITEMS_FAILURE});case 15:case"end":return n.stop()}},g,null,[[1,11]])}function M(e){var t,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(o.b)(p,t);case 4:if("fail"!==(a=n.sent).data.result){n.next=7;break}throw new Error(a.error);case 7:return n.next=9,Object(o.c)({type:i.b.GET_ITEM_SUCCESS,item:a.data.item});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(o.c)({type:i.b.GET_ITEM_FAILURE});case 15:case"end":return n.stop()}},_,null,[[1,11]])}function y(e){var t,a,r,u,d,p,m,f,E;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.c)(l.a.showLoadingAction());case 4:return a=v.a.getCurrentUser(),r=Date.now(),u="".concat(a.uid,"/words/").concat(r),c.next=9,v.a.doUploadImage(t.image,u);case 9:return d=c.sent,c.next=12,d.ref.getDownloadURL();case 12:return p=c.sent,t.image,(m=Object(n.a)(t,["image"])).linkMap=p,m.filePath=u,c.next=18,Object(o.b)(b,m);case 18:if("fail"!==(f=c.sent).data.result){c.next=21;break}throw new Error(f.data.error);case 21:return c.next=23,Object(o.c)({type:i.b.CREATE_ITEM_SUCCESS});case 23:return c.next=25,Object(o.d)(h.a);case 25:return E=c.sent,c.next=28,Object(o.c)(i.a.getItemsRequest(E.toJS()));case 28:return c.next=30,Object(o.c)(s.a.showNotification("Create word","Create word success","blue"));case 30:return c.next=32,Object(o.c)(l.a.hideLoadingAction());case 32:return c.next=34,Object(o.c)(l.a.clearModal());case 34:c.next=44;break;case 36:return c.prev=36,c.t0=c.catch(1),c.next=40,Object(o.c)({type:i.b.CREATE_ITEM_FAILURE});case 40:return c.next=42,Object(o.c)(s.a.showNotification("Create word",c.t0.message,"red"));case 42:return c.next=44,Object(o.c)(l.a.hideLoadingAction());case 44:case"end":return c.stop()}},C,null,[[1,36]])}function R(e){var t,a,r,u,d,p,b,f,E,O,j,g;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.c)(l.a.showLoadingAction());case 4:if(!t.image){c.next=22;break}return r=v.a.getCurrentUser(),c.next=8,v.a.doDeleteFile(t.filePath);case 8:return u=Date.now(),d="".concat(r.uid,"/words/").concat(u),p=v.a.doUploadImage(t.image,d),c.next=13,p.ref.getDownloadURL();case 13:return b=c.sent,t.image,f=t.id,(E=Object(n.a)(t,["image","id"])).linkMap=b,E.filePath=d,c.next=19,Object(o.b)(m,f,E);case 19:a=c.sent,c.next=26;break;case 22:return O=t.id,j=Object(n.a)(t,["id"]),c.next=25,Object(o.b)(m,O,j);case 25:a=c.sent;case 26:if("fail"!==a.data.result){c.next=28;break}throw new Error(a.data.error);case 28:return c.next=30,Object(o.c)({type:i.b.EDIT_ITEM_SUCCESS});case 30:return c.next=32,Object(o.d)(h.a);case 32:return g=c.sent,c.next=35,Object(o.c)(i.a.getItemsRequest(g.toJS()));case 35:return c.next=37,Object(o.c)(s.a.showNotification("Edit word","Edit word success","blue"));case 37:return c.next=39,Object(o.c)(l.a.hideLoadingAction());case 39:return c.next=41,Object(o.c)(l.a.clearModal());case 41:c.next=51;break;case 43:return c.prev=43,c.t0=c.catch(1),c.next=47,Object(o.c)({type:i.b.EDIT_ITEM_FAILURE});case 47:return c.next=49,Object(o.c)(s.a.showNotification("Edit word",c.t0.message,"red"));case 49:return c.next=51,Object(o.c)(l.a.hideLoadingAction());case 51:case"end":return c.stop()}},x,null,[[1,43]])}function S(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.values,r.prev=1,r.next=4,Object(o.c)(l.a.showLoadingAction());case 4:return r.next=6,Object(o.b)(f,t._id);case 6:if("fail"!==(a=r.sent).data.result){r.next=9;break}throw new Error(a.data.error);case 9:return r.next=11,v.a.doDeleteFile(t.filePath);case 11:return r.next=13,Object(o.c)({type:i.b.DELETE_ITEM_SUCCESS});case 13:return r.next=15,Object(o.d)(h.a);case 15:return n=r.sent,r.next=18,Object(o.c)(i.a.getItemsRequest(n.toJS()));case 18:return r.next=20,Object(o.c)(s.a.showNotification("Delete word","Delete word success","blue"));case 20:return r.next=22,Object(o.c)(l.a.hideLoadingAction());case 22:return r.next=24,Object(o.c)(l.a.clearModal());case 24:r.next=34;break;case 26:return r.prev=26,r.t0=r.catch(1),r.next=30,Object(o.c)({type:i.b.DELETE_ITEM_FAILURE});case 30:return r.next=32,Object(o.c)(s.a.showNotification("Delete word",r.t0.message,"red"));case 32:return r.next=34,Object(o.c)(l.a.hideLoadingAction());case 34:case"end":return r.stop()}},w,null,[[1,26]])}function T(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(o.b)(E,t);case 4:if("fail"!==(a=r.sent).data.result){r.next=7;break}throw new Error(a.data.error);case 7:return r.next=9,Object(o.c)({type:i.b.CHECK_RECALL_SUCCESS,id:t});case 9:return r.next=11,Object(o.d)(h.a);case 11:return n=r.sent,r.next=14,Object(o.c)(i.a.getItemsRequest(n.toJS()));case 14:return r.next=16,Object(o.c)(s.a.showNotification("Check word","Check word success","blue"));case 16:r.next=24;break;case 18:return r.prev=18,r.t0=r.catch(1),r.next=22,Object(o.c)({type:i.b.CHECK_RECALL_FAILURE,id:t});case 22:return r.next=24,Object(o.c)(s.a.showNotification("check word",r.t0.message,"red"));case 24:case"end":return r.stop()}},I,null,[[1,18]])}function W(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)([Object(o.f)(i.b.GET_ITEMS_REQUEST,L),Object(o.f)(i.b.GET_ITEM_REQUEST,M),Object(o.f)(i.b.CREATE_ITEM_REQUEST,y),Object(o.f)(i.b.EDIT_ITEM_REQUEST,R),Object(o.f)(i.b.DELETE_ITEM_REQUEST,S),Object(o.f)(i.b.CHECK_RECALL_REQUEST,T)]);case 2:case"end":return e.stop()}},k)}O.a.register(j.b,W)},842:function(e,t,a){e.exports={wordWrap:"styles_wordWrap__1ifkU",btnWrap:"styles_btnWrap__3tBKO",headerWrap:"styles_headerWrap__K6I11",selectWrap:"styles_selectWrap__3db9e",bookListWrap:"styles_bookListWrap__2W3vK"}},843:function(e,t,a){e.exports={itemWrap:"styles_itemWrap__26AwC",actionWrap:"styles_actionWrap__3p1fl"}},878:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(42),c=a(114),o=a(113),i=a(115),s=a(1),l=a.n(s),u=a(31),d=a(16),p=a(9),b=a(385),m=a(21),f=(a(538),a(481),a(429)),E=a(428),h=a(883),O=a(879),j=a(842),v=a.n(j),g=a(405),_=a(423),C=a(43),x=a(843),w=a.n(x),I=a(535),k=a.n(I),L=function(e){var t=e.item,a=e.openModalEditWord,n=e.openModalDeleteWord,r=e.seeWordDetail,c=e.handleCheckRecall,o=e.isLoadingCheck;return l.a.createElement("div",{className:w.a.itemWrap,onClick:r},l.a.createElement("p",null,t.get("word")),l.a.createElement("pre",null,t.get("description")),l.a.createElement("p",null,"Next recall: ",k()(t.get("nextRecall")).format("DD-MM-YYYY")),l.a.createElement("div",{className:w.a.actionWrap},l.a.createElement(O.a,{icon:"checkmark",primary:!0,circular:!0,onClick:c,loading:o.get(t.get("_id")),disabled:o.get(t.get("_id"))}),l.a.createElement(O.a,{icon:"edit",primary:!0,circular:!0,onClick:a}),l.a.createElement(O.a,{icon:"delete",negative:!0,circular:!0,onClick:n})))},M=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).openModalEditWord=function(e){e.stopPropagation();var t=a.props,n=t.item;(0,t.openModal)("CreateEditWordModal",{item:{id:n.get("_id"),word:n.get("word"),description:n.get("description"),linkMap:n.get("linkMap"),filePath:n.get("filePath")},action:"edit"})},a.openModalDeleteWord=function(e){e.stopPropagation();var t=a.props,n=t.item;(0,t.openModal)("ConfirmationDialog",{values:n,title:"Confirm Delete Word",content:"Do you want to delete this Word",type:"word"})},a.seeWordDetail=function(){var e=a.props,t=e.item;e.history.push("/word/".concat(t.get("_id")))},a.handleCheckRecall=function(e){e.stopPropagation();var t=a.props,n=t.item;(0,t.checkRecall)(n.get("_id"))},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(L,Object.assign({openModalDeleteWord:this.openModalDeleteWord,openModalEditWord:this.openModalEditWord,seeWordDetail:this.seeWordDetail,handleCheckRecall:this.handleCheckRecall},this.props))}}]),t}(s.Component),y=Object(u.connect)(function(e){return{isLoadingCheck:Object(f.b)(e)}},function(e){return{openModal:function(t,a){return e(m.a.setModal(t,a))},checkRecall:function(t){return e(b.a.checkRecallRequest(t))}}}),R=Object(d.d)(y,C.withRouter)(M),S=a(413),T=function(e){var t=e.openModalCreateWord,a=e.words,n=e.isLoadingWords,r=e.setFilter,c=e.filter;return l.a.createElement(g.a,null,l.a.createElement("div",{id:v.a.wordWrap},n&&l.a.createElement(E.a,{active:!0,inline:"centered",size:"big"}),!n&&l.a.createElement("div",{className:v.a.headerWrap},l.a.createElement(h.a,{textAlign:"center",color:"blue",as:"h1"},c.get("isRecall")?"Recall Words":"All Word"),l.a.createElement("div",{className:v.a.selectWrap},l.a.createElement(_.a,{name:"isRecall",value:c.get("isRecall"),options:S.c,handleChange:function(e,t){var a=t.value;return r("isRecall",a)},inputProps:{fluid:!0}}))),!n&&a&&l.a.createElement("div",{className:v.a.bookListWrap},a.size>0?l.a.createElement("div",null,a.map(function(e){return l.a.createElement(R,{key:e.get("_id"),item:e})})):l.a.createElement("p",null,"No word exist")),l.a.createElement("div",{className:v.a.btnWrap},l.a.createElement(O.a,{icon:"add",circular:!0,size:"massive",primary:!0,onClick:t}))))},W=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).openModalCreateWord=function(){(0,a.props.openModal)("CreateEditWordModal",{item:{word:"",description:"",linkMap:""},action:"create"})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.filter;(0,e.getListWord)(t.toJS())}},{key:"componentWillUnmount",value:function(){this.props.clearListWord()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.filter,n=t.getListWord;Object(p.is)(e.filter,a)||n(a.toJS())}},{key:"render",value:function(){return l.a.createElement(T,Object.assign({openModalCreateWord:this.openModalCreateWord},this.props))}}]),t}(s.Component),A=Object(u.connect)(function(e){return{words:Object(f.f)(e),isLoadingWords:Object(f.d)(e),filter:Object(f.a)(e)}},function(e){return{getListWord:function(t){return e(b.a.getItemsRequest(t))},clearListWord:function(){return e(b.a.clearItems())},openModal:function(t,a){return e(m.a.setModal(t,a))},setFilter:function(t,a){return e(b.a.setFilter(t,a))}}});t.default=Object(d.d)(A)(W)}}]);
//# sourceMappingURL=12.685b87b8.chunk.js.map