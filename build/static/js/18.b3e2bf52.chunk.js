(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{538:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u});var r=n(23),a=n(547),c=Object(r.createActions)({showNotification:["title","message","color"],hideNotification:null},{prefix:"@@".concat(a.b,"/")}),i=c.Types,o=c.Creators,s=i,u=o},547:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n(10),a=Object(r.Map)({title:"",message:"",open:!1,color:"blue"}),c="notification"},563:function(e,t,n){e.exports={messageWrapper:"styles_messageWrapper__1FvZ9"}},564:function(e,t,n){"use strict";var r,a=n(32),c=n(47),i=n(148),o=n(146),s=n(149),u=n(1),b=n.n(u),d=n(33),l=n(17),f=n(5),p=n(547),E=n(23),m=n(538),O=n(48),j=Object(E.createReducer)(p.a,(r={},Object(f.a)(r,m.b.SHOW_NOTIFICATION,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.a,t=arguments.length>1?arguments[1]:void 0,n=t.title,r=t.message,a=t.color;return e.merge({title:n,message:r,color:a,open:!0})}),Object(f.a)(r,m.b.HIDE_NOTIFICATION,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.a).merge({open:!1})}),r));O.a.register(p.b,j);var h=n(891),g=n(887),x=n(563),w=n.n(x),_=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={animation:"fade up",duration:500},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose,r=e.color,a=e.message,c=e.title,i=this.state,o=i.animation,s=i.duration;return b.a.createElement(h.a,{closeOnTriggerClick:!0,open:t,transition:{animation:o,duration:s},onClose:n},b.a.createElement(g.a,{color:r,attached:"top",className:w.a.messageWrapper,onDismiss:n,header:c,content:a}))}}]),t}(u.Component),I=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return b.a.createElement(_,this.props)}}]),t}(b.a.Component);I.propsTypes={};var v=Object(d.connect)(function(e){return{open:e.notification.get("open"),title:e.notification.get("title"),message:e.notification.get("message"),color:e.notification.get("color")}},function(e){return{onClose:function(){return e(m.a.hideNotification())}}});t.a=Object(l.d)(v)(I)},573:function(e,t,n){e.exports={wrapper:"styles_wrapper__2rJf3",contentWrapper:"styles_contentWrapper__38BTI"}},574:function(e,t,n){e.exports={appBar:"styles_appBar__3pmVF"}},576:function(e,t,n){"use strict";var r=n(58),a=n(1),c=n.n(a),i=n(564),o=n(573),s=n.n(o),u=n(561),b=n(893),d=n(700),l=n(574),f=n.n(l);var p=function(e){var t=e.handleGoBack,n=e.title;return c.a.createElement(b.a,{borderless:!0,fixed:"top",className:f.a.appBar,color:"blue",inverted:!0},c.a.createElement(b.a.Item,{onClick:t},c.a.createElement(d.a,{name:"arrow left"})),c.a.createElement(b.a.Item,{header:!0,as:"h4"},n))},E=n(50);t.a=Object(E.withRouter)(function(e){var t=e.title,n=e.handleGoBack,a=e.children;Object(r.a)(e,["title","handleGoBack","children"]);return c.a.createElement("div",{className:s.a.wrapper},c.a.createElement(p,{title:t,handleGoBack:n}),c.a.createElement("main",{className:s.a.contentWrapper},a),c.a.createElement(i.a,null),c.a.createElement(u.a,null))})},595:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return u});var r=n(105),a=function(e){return e[r.b].get("items")},c=function(e){return e[r.b].get("isLoadingItems")},i=function(e){return e[r.b].get("filter")},o=function(e){return e[r.b].get("isLoadingCheck")},s=function(e){return e[r.b].get("item")},u=function(e){return e[r.b].get("isLoadingItem")}},621:function(e,t,n){"use strict";var r,a=n(5),c=n(10),i=n(105),o=n(23),s=n(553),u=n(48),b=function(e,t){var n=t.id;return e.setIn(["isLoadingCheck",n],!1)},d=Object(o.createReducer)(i.a,(r={},Object(a.a)(r,s.b.GET_ITEMS_REQUEST,function(e){return e.set("isLoadingItems",!0)}),Object(a.a)(r,s.b.GET_ITEMS_FAILURE,function(e){return e.set("isLoadingItems",!1)}),Object(a.a)(r,s.b.GET_ITEMS_SUCCESS,function(e,t){var n=t.items;return e.set("items",Object(c.fromJS)(n)).set("isLoadingItems",!1)}),Object(a.a)(r,s.b.CLEAR_ITEMS,function(e){return e.set("items",Object(c.fromJS)([]))}),Object(a.a)(r,s.b.SET_FILTER,function(e,t){var n=t.name,r=t.value;return e.setIn(["filter",n],r)}),Object(a.a)(r,s.b.CHECK_RECALL_REQUEST,function(e,t){var n=t.id;return e.setIn(["isLoadingCheck",n],!0)}),Object(a.a)(r,s.b.CHECK_RECALL_SUCCESS,b),Object(a.a)(r,s.b.CHECK_RECALL_FAILURE,b),Object(a.a)(r,s.b.GET_ITEM_REQUEST,function(e){return e.set("isLoadingItem",!0)}),Object(a.a)(r,s.b.GET_ITEM_SUCCESS,function(e,t){var n=t.item;return e.set("item",Object(c.fromJS)(n)).set("isLoadingItem",!1)}),Object(a.a)(r,s.b.GET_ITEM_FAILURE,function(e){return e.set("isLoadingItem",!1)}),Object(a.a)(r,s.b.CLEAR_ITEM,function(e){return e.set("item",Object(c.fromJS)({}))}),r));u.a.register(i.b,d)},654:function(e,t,n){"use strict";var r=n(58),a=n(14),c=n.n(a),i=n(4),o=n(553),s=n(538),u=n(22),b=n(39),d=function(e){return b.a.get("/api/words/",e)},l=function(e){return b.a.get("/api/words/".concat(e))},f=function(e){return b.a.post("/api/words/",e)},p=function(e,t){return b.a.put("/api/words/".concat(e),t)},E=function(e){return b.a.delete("/api/words/".concat(e))},m=function(e){return b.a.post("/api/words/check/".concat(e))},O=n(595),j=n(107),h=n(105),g=n(36),x=c.a.mark(S),w=c.a.mark(k),_=c.a.mark(L),I=c.a.mark(R),v=c.a.mark(A),T=c.a.mark(U),C=c.a.mark(M);function S(e){var t,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filter,r.prev=1,r.next=4,Object(i.b)(d,t);case 4:if("fail"!==(n=r.sent).data.result){r.next=7;break}throw new Error(n.error);case 7:return r.next=9,Object(i.c)({type:o.b.GET_ITEMS_SUCCESS,items:n.data.items});case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(i.c)({type:o.b.GET_ITEMS_FAILURE});case 15:case"end":return r.stop()}},x,this,[[1,11]])}function k(e){var t,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(i.b)(l,t);case 4:if("fail"!==(n=r.sent).data.result){r.next=7;break}throw new Error(n.error);case 7:return r.next=9,Object(i.c)({type:o.b.GET_ITEM_SUCCESS,item:n.data.item});case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(i.c)({type:o.b.GET_ITEM_FAILURE});case 15:case"end":return r.stop()}},w,this,[[1,11]])}function L(e){var t,n,a,b,d,l,p,E,m;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(i.c)(u.a.showLoadingAction());case 4:return n=g.a.getCurrentUser(),a=Date.now(),b="".concat(n.uid,"/words/").concat(a),c.next=9,g.a.doUploadImage(t.image,b);case 9:return d=c.sent,c.next=12,d.ref.getDownloadURL();case 12:return l=c.sent,t.image,(p=Object(r.a)(t,["image"])).linkMap=l,p.filePath=b,c.next=18,Object(i.b)(f,p);case 18:if("fail"!==(E=c.sent).data.result){c.next=21;break}throw new Error(E.data.error);case 21:return c.next=23,Object(i.c)({type:o.b.CREATE_ITEM_SUCCESS});case 23:return c.next=25,Object(i.d)(O.a);case 25:return m=c.sent,c.next=28,Object(i.c)(o.a.getItemsRequest(m.toJS()));case 28:return c.next=30,Object(i.c)(s.a.showNotification("Create word","Create word success","blue"));case 30:return c.next=32,Object(i.c)(u.a.hideLoadingAction());case 32:return c.next=34,Object(i.c)(u.a.clearModal());case 34:c.next=44;break;case 36:return c.prev=36,c.t0=c.catch(1),c.next=40,Object(i.c)({type:o.b.CREATE_ITEM_FAILURE});case 40:return c.next=42,Object(i.c)(s.a.showNotification("Create word",c.t0.message,"red"));case 42:return c.next=44,Object(i.c)(u.a.hideLoadingAction());case 44:case"end":return c.stop()}},_,this,[[1,36]])}function R(e){var t,n,a,b,d,l,f,E,m,j,h,x;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(i.c)(u.a.showLoadingAction());case 4:if(!t.image){c.next=22;break}return a=g.a.getCurrentUser(),c.next=8,g.a.doDeleteFile(t.filePath);case 8:return b=Date.now(),d="".concat(a.uid,"/words/").concat(b),l=g.a.doUploadImage(t.image,d),c.next=13,l.ref.getDownloadURL();case 13:return f=c.sent,t.image,E=t.id,(m=Object(r.a)(t,["image","id"])).linkMap=f,m.filePath=d,c.next=19,Object(i.b)(p,E,m);case 19:n=c.sent,c.next=26;break;case 22:return j=t.id,h=Object(r.a)(t,["id"]),c.next=25,Object(i.b)(p,j,h);case 25:n=c.sent;case 26:if("fail"!==n.data.result){c.next=28;break}throw new Error(n.data.error);case 28:return c.next=30,Object(i.c)({type:o.b.EDIT_ITEM_SUCCESS});case 30:return c.next=32,Object(i.d)(O.a);case 32:return x=c.sent,c.next=35,Object(i.c)(o.a.getItemsRequest(x.toJS()));case 35:return c.next=37,Object(i.c)(s.a.showNotification("Edit word","Edit word success","blue"));case 37:return c.next=39,Object(i.c)(u.a.hideLoadingAction());case 39:return c.next=41,Object(i.c)(u.a.clearModal());case 41:c.next=51;break;case 43:return c.prev=43,c.t0=c.catch(1),c.next=47,Object(i.c)({type:o.b.EDIT_ITEM_FAILURE});case 47:return c.next=49,Object(i.c)(s.a.showNotification("Edit word",c.t0.message,"red"));case 49:return c.next=51,Object(i.c)(u.a.hideLoadingAction());case 51:case"end":return c.stop()}},I,this,[[1,43]])}function A(e){var t,n,r;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.values,a.prev=1,a.next=4,Object(i.c)(u.a.showLoadingAction());case 4:return a.next=6,Object(i.b)(E,t._id);case 6:if("fail"!==(n=a.sent).data.result){a.next=9;break}throw new Error(n.data.error);case 9:return a.next=11,g.a.doDeleteFile(t.filePath);case 11:return a.next=13,Object(i.c)({type:o.b.DELETE_ITEM_SUCCESS});case 13:return a.next=15,Object(i.d)(O.a);case 15:return r=a.sent,a.next=18,Object(i.c)(o.a.getItemsRequest(r.toJS()));case 18:return a.next=20,Object(i.c)(s.a.showNotification("Delete word","Delete word success","blue"));case 20:return a.next=22,Object(i.c)(u.a.hideLoadingAction());case 22:return a.next=24,Object(i.c)(u.a.clearModal());case 24:a.next=34;break;case 26:return a.prev=26,a.t0=a.catch(1),a.next=30,Object(i.c)({type:o.b.DELETE_ITEM_FAILURE});case 30:return a.next=32,Object(i.c)(s.a.showNotification("Delete word",a.t0.message,"red"));case 32:return a.next=34,Object(i.c)(u.a.hideLoadingAction());case 34:case"end":return a.stop()}},v,this,[[1,26]])}function U(e){var t,n,r;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.prev=1,a.next=4,Object(i.b)(m,t);case 4:if("fail"!==(n=a.sent).data.result){a.next=7;break}throw new Error(n.data.error);case 7:return a.next=9,Object(i.c)({type:o.b.CHECK_RECALL_SUCCESS,id:t});case 9:return a.next=11,Object(i.d)(O.a);case 11:return r=a.sent,a.next=14,Object(i.c)(o.a.getItemsRequest(r.toJS()));case 14:return a.next=16,Object(i.c)(s.a.showNotification("Check word","Check word success","blue"));case 16:a.next=24;break;case 18:return a.prev=18,a.t0=a.catch(1),a.next=22,Object(i.c)({type:o.b.CHECK_RECALL_FAILURE,id:t});case 22:return a.next=24,Object(i.c)(s.a.showNotification("check word",a.t0.message,"red"));case 24:case"end":return a.stop()}},T,this,[[1,18]])}function M(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)([Object(i.f)(o.b.GET_ITEMS_REQUEST,S),Object(i.f)(o.b.GET_ITEM_REQUEST,k),Object(i.f)(o.b.CREATE_ITEM_REQUEST,L),Object(i.f)(o.b.EDIT_ITEM_REQUEST,R),Object(i.f)(o.b.DELETE_ITEM_REQUEST,A),Object(i.f)(o.b.CHECK_RECALL_REQUEST,U)]);case 2:case"end":return e.stop()}},C,this)}j.a.register(h.b,M)},854:function(e,t,n){},896:function(e,t,n){"use strict";n.r(t);var r=n(32),a=n(47),c=n(148),i=n(146),o=n(149),s=n(1),u=n.n(s),b=n(33),d=n(17),l=n(553),f=(n(654),n(621),n(595)),p=n(537),E=n(870),m=(n(854),n(576)),O=function(e){var t=e.handleGoBack,n=e.item,r=e.isLoadingItem;return u.a.createElement(m.a,{title:"Word Detail",handleGoBack:t},r&&u.a.createElement(p.a,{active:!0,inline:"centered",size:"big"}),!r&&n&&u.a.createElement("div",null,u.a.createElement(E.a,{fluid:!0,src:n.get("linkMap")})))},j=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).handleGoBack=function(){n.props.history.push("/word")},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.getItemRequest)(t.params.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.clearItem)()}},{key:"render",value:function(){return u.a.createElement(O,Object.assign({handleGoBack:this.handleGoBack},this.props))}}]),t}(s.Component),h=Object(b.connect)(function(e){return{item:Object(f.e)(e),isLoadingItem:Object(f.c)(e)}},function(e){return{getItemRequest:function(t){return e(l.a.getItemRequest(t))},clearItem:function(){return e(l.a.clearItem())}}});t.default=Object(d.d)(h)(j)}}]);
//# sourceMappingURL=18.b3e2bf52.chunk.js.map