(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{156:function(e,t,a){"use strict";a.d(t,"a",function(){return b}),a.d(t,"b",function(){return d});var n=a(26),r=a(1),c=a.n(r),o=a(43),i=a(28),s=(a(4),a(8)),u=a(24),l=a(27);c.a.Component;c.a.Component;var b=function(e){function t(){return e.apply(this,arguments)||this}Object(n.a)(t,e);var a=t.prototype;return a.handleClick=function(e,t){(this.props.onClick&&this.props.onClick(e),e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},a.render=function(){var e=this,t=this.props,a=t.innerRef,n=(t.replace,t.to),r=Object(u.a)(t,["innerRef","replace","to"]);return c.a.createElement(o.__RouterContext.Consumer,null,function(t){t||Object(l.a)(!1);var o="string"===typeof n?Object(i.c)(n,null,null,t.location):n,u=o?t.history.createHref(o):"";return c.a.createElement("a",Object(s.a)({},r,{onClick:function(a){return e.handleClick(a,t.history)},href:u,ref:a}))})},t}(c.a.Component);function d(e){var t=e["aria-current"],a=void 0===t?"page":t,n=e.activeClassName,r=void 0===n?"active":n,i=e.activeStyle,l=e.className,d=e.exact,p=e.isActive,m=e.location,f=e.strict,E=e.style,h=e.to,O=Object(u.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),j="object"===typeof h?h.pathname:h,v=j&&j.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return c.a.createElement(o.Route,{path:v,exact:d,strict:f,location:m,children:function(e){var t=e.location,n=e.match,o=!!(p?p(n,t):n),u=o?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return e}).join(" ")}(l,r):l,d=o?Object(s.a)({},E,i):E;return c.a.createElement(b,Object(s.a)({"aria-current":o&&a||null,className:u,style:d,to:h},O))}})}},399:function(e,t,a){e.exports={AppbarNonAuth:"styles_AppbarNonAuth__1zar9",menuItem:"styles_menuItem__ZjxaD"}},400:function(e,t,a){e.exports={AppbarAuth:"styles_AppbarAuth__3BiBs",menuItem:"styles_menuItem__28cKS"}},401:function(e,t,a){e.exports={pageWrap:"styles_pageWrap__1EWNy",mainContent:"styles_mainContent__3QURM"}},405:function(e,t,a){"use strict";var n=a(30),r=a(42),c=a(114),o=a(113),i=a(115),s=a(1),u=a.n(s),l=a(31),b=a(16),d=a(43),p=a(51),m=a(884),f=a(399),E=a.n(f),h=function(e){var t=e.handleOpenModal;return u.a.createElement(m.a,{id:E.a.AppbarNonAuth,fixed:"top",borderless:!0,color:"blue",inverted:!0},u.a.createElement(m.a.Item,null,"Goal Plan"),u.a.createElement(m.a.Menu,{position:"right"},u.a.createElement(m.a.Item,{className:E.a.menuItem,onClick:function(){return t("RegisterModal",{})}},"Register"),u.a.createElement(m.a.Item,{className:E.a.menuItem,onClick:function(){return t("LoginModal",{item:{email:"",password:""}})}},"Log In")))},O=a(383),j=a(156),v=a(400),g=a.n(v),k=function(e){var t=e.handleLogout;return u.a.createElement(m.a,{id:g.a.AppbarAuth,fixed:"top",borderless:!0,color:"blue",inverted:!0},u.a.createElement(m.a.Item,{as:j.b,to:"/book",className:g.a.menuItem,activeClassName:g.a.activeItem},"Book"),u.a.createElement(m.a.Item,{as:j.b,to:"/word",className:g.a.menuItem,activeClassName:g.a.activeItem},"Word"),u.a.createElement(m.a.Item,{as:j.b,to:"/todo",className:g.a.menuItem,activeClassName:g.a.activeItem},"Todo"),u.a.createElement(m.a.Item,{as:j.b,to:"/diary",className:g.a.menuItem,activeClassName:g.a.activeItem},"Diary"),u.a.createElement(m.a.Menu,{position:"right"},u.a.createElement(m.a.Item,{className:g.a.menuItem,onClick:t},"Log Out")))},_=a(401),x=a.n(_),I=a(391),C=function(e){var t=e.children,a=e.auth,n=e.handleLogout,r=e.handleOpenModal,c=e.match;Object(p.a)(e,["children","auth","handleLogout","handleOpenModal","match"]);return u.a.createElement("div",{id:x.a.pageWrap},a&&"/welcome"===c.path&&u.a.createElement(d.Redirect,{to:"/book"}),!a&&u.a.createElement(h,{handleOpenModal:r}),a&&u.a.createElement(k,{handleLogout:n}),u.a.createElement("main",{className:x.a.mainContent},t),u.a.createElement(I.a,null),u.a.createElement(O.a,null))},w=a(14),S=a(21),y=a(116),T=a(33),L=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).handleLogout=function(){T.a.doSignOut(),a.props.clearAuth()},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(C,Object.assign({},this.props,{handleLogout:this.handleLogout}))}}]),t}(s.Component),M=Object(l.connect)(function(e){return{auth:Object(y.a)(e)}},function(e){return{handleOpenModal:function(t,a){return e(S.a.setModal(t,a))},clearAuth:function(){return e(w.a.clearUser())}}});t.a=Object(b.d)(M,d.withRouter)(L)},428:function(e,t,a){"use strict";var n=a(362),r=a.n(n),c=a(363),o=a.n(c),i=(a(4),a(1)),s=a.n(i),u=a(411),l=a(579),b=a(578),d=a(361);function p(e){var t=e.active,a=e.children,n=e.className,c=e.content,i=e.disabled,m=e.indeterminate,f=e.inline,E=e.inverted,h=e.size,O=o()("ui",h,Object(u.a)(t,"active"),Object(u.a)(i,"disabled"),Object(u.a)(m,"indeterminate"),Object(u.a)(E,"inverted"),Object(u.a)(a||c,"text"),Object(u.b)(f,"inline"),"loader",n),j=Object(l.a)(p,e),v=Object(b.a)(p,e);return s.a.createElement(v,r()({},j,{className:O}),d.b.isNil(a)?c:a)}p.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],p.propTypes={},t.a=p},448:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"e",function(){return c}),a.d(t,"a",function(){return o}),a.d(t,"d",function(){return i}),a.d(t,"c",function(){return s});var n=a(84),r=function(e){return e[n.b].get("items")},c=function(e){return e[n.b].get("isLoadingItems")},o=function(e){return e[n.b].get("item")},i=function(e){return e[n.b].get("isLoadingItem")},s=function(e){return e[n.b].get("filter")}},534:function(e,t,a){"use strict";var n,r=a(6),c=a(9),o=a(84),i=a(22),s=a(380),u=a(44),l=Object(i.createReducer)(o.a,(n={},Object(r.a)(n,s.b.GET_ITEMS_REQUEST,function(e){return e.set("isLoadingItems",!0)}),Object(r.a)(n,s.b.GET_ITEMS_FAILURE,function(e){return e.set("isLoadingItems",!1)}),Object(r.a)(n,s.b.GET_ITEMS_SUCCESS,function(e,t){var a=t.items;return e.set("items",Object(c.fromJS)(a)).set("isLoadingItems",!1)}),Object(r.a)(n,s.b.CLEAR_ITEMS,function(e){return e.set("items",Object(c.fromJS)([]))}),Object(r.a)(n,s.b.GET_ITEM_REQUEST,function(e){return e.set("isLoadingItem",!0)}),Object(r.a)(n,s.b.GET_ITEM_SUCCESS,function(e,t){var a=t.item;return e.set("item",Object(c.fromJS)(a)).set("isLoadingItem",!1)}),Object(r.a)(n,s.b.GET_ITEM_FAILURE,function(e){return e.set("isLoadingItem",!1)}),Object(r.a)(n,s.b.CLEAR_ITEM,function(e){return e.set("item",Object(c.fromJS)({}))}),Object(r.a)(n,s.b.SET_FILTER,function(e,t){var a=t.name,n=t.value;return e.setIn(["filter",a],n)}),n));u.a.register(o.b,l)},537:function(e,t,a){"use strict";var n=a(51),r=a(13),c=a.n(r),o=a(5),i=a(380),s=a(375),u=a(21),l=a(36),b=function(e){return l.a.get("/api/books/",e)},d=function(e){return l.a.get("/api/books/".concat(e))},p=function(e){return l.a.post("/api/books/",e)},m=function(e,t){return l.a.put("/api/books/".concat(e),t)},f=function(e){return l.a.delete("/api/books/".concat(e))},E=function(e,t){return l.a.put("/api/books/status/".concat(e),{status:t})},h=function(e,t){return l.a.put("/api/books/review/".concat(e),t)},O=a(448),j=a(88),v=a(84),g=c.a.mark(y),k=c.a.mark(T),_=c.a.mark(L),x=c.a.mark(M),I=c.a.mark(A),C=c.a.mark(R),w=c.a.mark(N),S=c.a.mark(B);function y(e){var t,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filter,n.prev=1,n.next=4,Object(o.b)(b,t);case 4:if("fail"!==(a=n.sent).data.result){n.next=7;break}throw new Error(a.error);case 7:return n.next=9,Object(o.c)({type:i.b.GET_ITEMS_SUCCESS,items:a.data.items});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(o.c)({type:i.b.GET_ITEMS_FAILURE});case 15:case"end":return n.stop()}},g,null,[[1,11]])}function T(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.values,r.prev=1,console.log(t),r.next=5,Object(o.c)(u.a.showLoadingAction());case 5:return r.next=7,Object(o.b)(p,t);case 7:if("fail"!==(a=r.sent).data.result){r.next=10;break}throw new Error(a.data.error);case 10:return r.next=12,Object(o.c)({type:i.b.CREATE_ITEM_SUCCESS});case 12:return r.next=14,Object(o.d)(O.c);case 14:if((n=r.sent).get("status")!==t.status){r.next=18;break}return r.next=18,Object(o.c)(i.a.getItemsRequest(n.toJS()));case 18:return r.next=20,Object(o.c)(s.a.showNotification("Create book","Create book success","blue"));case 20:return r.next=22,Object(o.c)(u.a.hideLoadingAction());case 22:return r.next=24,Object(o.c)(u.a.clearModal());case 24:r.next=34;break;case 26:return r.prev=26,r.t0=r.catch(1),r.next=30,Object(o.c)({type:i.b.CREATE_ITEM_FAILURE});case 30:return r.next=32,Object(o.c)(s.a.showNotification("Create book",r.t0.message,"red"));case 32:return r.next=34,Object(o.c)(u.a.hideLoadingAction());case 34:case"end":return r.stop()}},k,null,[[1,26]])}function L(e){var t,a,r,l,b;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.c)(u.a.showLoadingAction());case 4:return a=t.id,r=Object(n.a)(t,["id"]),c.next=7,Object(o.b)(m,a,r);case 7:if("fail"!==(l=c.sent).data.result){c.next=10;break}throw new Error(l.data.error);case 10:return c.next=12,Object(o.c)({type:i.b.EDIT_ITEM_SUCCESS});case 12:return c.next=14,Object(o.d)(O.c);case 14:return b=c.sent,c.next=17,Object(o.c)(i.a.getItemsRequest(b.toJS()));case 17:return c.next=19,Object(o.c)(s.a.showNotification("Edit book","Edit book success","blue"));case 19:return c.next=21,Object(o.c)(u.a.hideLoadingAction());case 21:return c.next=23,Object(o.c)(u.a.clearModal());case 23:c.next=33;break;case 25:return c.prev=25,c.t0=c.catch(1),c.next=29,Object(o.c)({type:i.b.EDIT_ITEM_FAILURE});case 29:return c.next=31,Object(o.c)(s.a.showNotification("Edit book",c.t0.message,"red"));case 31:return c.next=33,Object(o.c)(u.a.hideLoadingAction());case 33:case"end":return c.stop()}},_,null,[[1,25]])}function M(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.values,r.prev=1,r.next=4,Object(o.c)(u.a.showLoadingAction());case 4:return r.next=6,Object(o.b)(f,t._id);case 6:if("fail"!==(a=r.sent).data.result){r.next=9;break}throw new Error(a.data.error);case 9:return r.next=11,Object(o.c)({type:i.b.DELETE_ITEM_SUCCESS});case 11:return r.next=13,Object(o.d)(O.c);case 13:return n=r.sent,r.next=16,Object(o.c)(i.a.getItemsRequest(n.toJS()));case 16:return r.next=18,Object(o.c)(s.a.showNotification("Delete book","Delete book success","blue"));case 18:return r.next=20,Object(o.c)(u.a.hideLoadingAction());case 20:return r.next=22,Object(o.c)(u.a.clearModal());case 22:r.next=32;break;case 24:return r.prev=24,r.t0=r.catch(1),r.next=28,Object(o.c)({type:i.b.DELETE_ITEM_FAILURE});case 28:return r.next=30,Object(o.c)(s.a.showNotification("Delete book",r.t0.message,"red"));case 30:return r.next=32,Object(o.c)(u.a.hideLoadingAction());case 32:case"end":return r.stop()}},x,null,[[1,24]])}function A(e){var t,a,n,r;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,a=e.status,c.prev=1,c.next=4,Object(o.b)(E,t,a);case 4:if("fail"!==(n=c.sent).data.result){c.next=7;break}throw new Error(n.data.error);case 7:return c.next=9,Object(o.c)({type:i.b.CHANGE_STATUS_SUCCESS});case 9:return c.next=11,Object(o.d)(O.c);case 11:return r=c.sent,c.next=14,Object(o.c)(i.a.getItemsRequest(r.toJS()));case 14:return c.next=16,Object(o.c)(s.a.showNotification("Change status","Change status success","blue"));case 16:c.next=24;break;case 18:return c.prev=18,c.t0=c.catch(1),c.next=22,Object(o.c)({type:i.b.CHANGE_STATUS_FAILURE});case 22:return c.next=24,Object(o.c)(s.a.showNotification("change status",c.t0.message,"red"));case 24:case"end":return c.stop()}},I,null,[[1,18]])}function R(e){var t,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(o.b)(d,t);case 4:if(a=n.sent,console.log(a.data),"fail"!==a.data.result){n.next=8;break}throw new Error(a.data.error);case 8:return n.next=10,Object(o.c)({type:i.b.GET_ITEM_SUCCESS,item:a.data.item});case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(o.c)({type:i.b.GET_ITEM_FAILURE});case 16:case"end":return n.stop()}},C,null,[[1,12]])}function N(e){var t,a,r,l;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.c)(u.a.showLoadingAction());case 4:return a=t.id,r=Object(n.a)(t,["id"]),c.next=7,Object(o.b)(h,a,r);case 7:if("fail"!==(l=c.sent).data.result){c.next=10;break}throw new Error(l.data.error);case 10:return c.next=12,Object(o.c)({type:i.b.ADD_REVIEW_SUCCESS});case 12:return c.next=14,Object(o.c)(i.a.getItemRequest(a));case 14:return c.next=16,Object(o.c)(s.a.showNotification("Add review","Add review success","blue"));case 16:return c.next=18,Object(o.c)(u.a.hideLoadingAction());case 18:return c.next=20,Object(o.c)(u.a.clearModal());case 20:c.next=30;break;case 22:return c.prev=22,c.t0=c.catch(1),c.next=26,Object(o.c)({type:i.b.ADD_REVIEW_FAILURE});case 26:return c.next=28,Object(o.c)(s.a.showNotification("add Review",c.t0.message,"red"));case 28:return c.next=30,Object(o.c)(u.a.hideLoadingAction());case 30:case"end":return c.stop()}},w,null,[[1,22]])}function B(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)([Object(o.f)(i.b.GET_ITEMS_REQUEST,y),Object(o.f)(i.b.CREATE_ITEM_REQUEST,T),Object(o.f)(i.b.EDIT_ITEM_REQUEST,L),Object(o.f)(i.b.DELETE_ITEM_REQUEST,M),Object(o.f)(i.b.CHANGE_STATUS_REQUEST,A),Object(o.f)(i.b.GET_ITEM_REQUEST,R),Object(o.f)(i.b.ADD_REVIEW_REQUEST,N)]);case 2:case"end":return e.stop()}},S)}j.a.register(v.b,B)},839:function(e,t,a){e.exports={bookWrap:"styles_bookWrap__3aGOl",btnWrap:"styles_btnWrap__30YnV",headerWrap:"styles_headerWrap__30faC",selectWrap:"styles_selectWrap__HEwFS",bookListWrap:"styles_bookListWrap__1LV9o"}},840:function(e,t,a){e.exports={itemWrap:"styles_itemWrap__hRGzu",actionWrap:"styles_actionWrap__2fTW3"}},876:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(42),c=a(114),o=a(113),i=a(115),s=a(1),u=a.n(s),l=a(31),b=a(16),d=a(9),p=(a(537),a(534),a(380)),m=a(21),f=a(448),E=a(428),h=a(883),O=a(879),j=a(839),v=a.n(j),g=a(405),k=a(423),_=a(43),x=a(873),I=a(413),C=a(840),w=a.n(C),S=function(e){var t=e.item,a=e.openModalEditBook,n=e.openModalDeleteBook,r=e.handleChangeStatus,c=e.seeBookDetail;return u.a.createElement("div",{className:w.a.itemWrap,onClick:c},u.a.createElement("p",null,t.get("title")),u.a.createElement("p",null,t.get("author")),u.a.createElement("div",{className:w.a.actionWrap},u.a.createElement(x.a,{value:t.get("status"),options:I.b,icon:"arrow circle down",button:!0,labeled:!0,className:"icon",onChange:r}),u.a.createElement(O.a,{icon:"edit",primary:!0,circular:!0,onClick:a}),u.a.createElement(O.a,{icon:"delete",negative:!0,circular:!0,onClick:n})))},y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).openModalEditBook=function(e){e.stopPropagation();var t=a.props,n=t.item;(0,t.openModal)("CreateEditBookModal",{item:{id:n.get("_id"),title:n.get("title"),author:n.get("author"),status:n.get("status"),rate:n.get("rate"),review:n.get("review")},action:"edit"})},a.openModalDeleteBook=function(e){e.stopPropagation();var t=a.props,n=t.item;(0,t.openModal)("ConfirmationDialog",{values:n,title:"Confirm Delete Book",content:"Do you want to delete this Book",type:"book"})},a.handleChangeStatus=function(e,t){var n=t.value,r=a.props,c=r.item,o=r.changeStatus;n!==c.get("status")&&o(c.get("_id"),n)},a.seeBookDetail=function(){var e=a.props,t=e.item;e.history.push("/book/".concat(t.get("_id")))},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(S,Object.assign({openModalDeleteBook:this.openModalDeleteBook,openModalEditBook:this.openModalEditBook,handleChangeStatus:this.handleChangeStatus,seeBookDetail:this.seeBookDetail},this.props))}}]),t}(s.Component),T=Object(l.connect)(function(e){return{}},function(e){return{openModal:function(t,a){return e(m.a.setModal(t,a))},changeStatus:function(t,a){return e(p.a.changeStatusRequest(t,a))}}}),L=Object(b.d)(T,_.withRouter)(y),M=function(e){var t=e.openModalCreateBook,a=e.books,n=e.isLoadingBooks,r=e.setFilter,c=e.filter;return u.a.createElement(g.a,null,u.a.createElement("div",{id:v.a.bookWrap},n&&u.a.createElement(E.a,{active:!0,inline:"centered",size:"big"}),!n&&u.a.createElement("div",{className:v.a.headerWrap},u.a.createElement(h.a,{textAlign:"center",color:"blue",as:"h1"},function(e){switch(e){case"new":return"New Book List";case"reading":return"Reading Book List";case"holding":return"Holding Book List";case"finish":return"Finish Book List";default:return""}}(c.get("status"))),u.a.createElement("div",{className:v.a.selectWrap},u.a.createElement(k.a,{name:"status",value:c.get("status"),options:I.b,handleChange:function(e,t){var a=t.value;return r("status",a)},inputProps:{fluid:!0}}))),!n&&a&&u.a.createElement("div",{className:v.a.bookListWrap},a.size>0?a.map(function(e){return u.a.createElement(L,{key:e.get("_id"),item:e})}):u.a.createElement("p",null,"No books exist")),u.a.createElement("div",{className:v.a.btnWrap},u.a.createElement(O.a,{icon:"add",circular:!0,size:"massive",primary:!0,onClick:t}))))},A=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).openModalCreateBook=function(){(0,a.props.openModal)("CreateEditBookModal",{item:{title:"",author:"",status:"reading"},action:"create"})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.filter;(0,e.getListBook)(t.toJS())}},{key:"componentWillUnmount",value:function(){this.props.clearListBook()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.filter,n=t.getListBook;Object(d.is)(e.filter,a)||n(a.toJS())}},{key:"render",value:function(){return u.a.createElement(M,Object.assign({openModalCreateBook:this.openModalCreateBook},this.props))}}]),t}(s.Component),R=Object(l.connect)(function(e){return{books:Object(f.b)(e),book:Object(f.a)(e),isLoadingBooks:Object(f.e)(e),isLoadingBook:Object(f.d)(e),filter:Object(f.c)(e)}},function(e){return{getListBook:function(t){return e(p.a.getItemsRequest(t))},clearListBook:function(){return e(p.a.clearItems())},openModal:function(t,a){return e(m.a.setModal(t,a))},setFilter:function(t,a){return e(p.a.setFilter(t,a))}}});t.default=Object(b.d)(R)(A)}}]);
//# sourceMappingURL=11.163c0371.chunk.js.map