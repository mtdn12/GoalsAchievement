(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{538:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return u});var n=a(23),r=a(547),c=Object(n.createActions)({showNotification:["title","message","color"],hideNotification:null},{prefix:"@@".concat(r.b,"/")}),o=c.Types,s=c.Creators,i=o,u=s},547:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return c});var n=a(10),r=Object(n.Map)({title:"",message:"",open:!1,color:"blue"}),c="notification"},569:function(e,t,a){e.exports={AppbarNonAuth:"styles_AppbarNonAuth__1zar9",menuItem:"styles_menuItem__ZjxaD"}},570:function(e,t,a){e.exports={AppbarAuth:"styles_AppbarAuth__3BiBs",menuItem:"styles_menuItem__28cKS"}},571:function(e,t,a){e.exports={pageWrap:"styles_pageWrap__1EWNy",mainContent:"styles_mainContent__3QURM"}},575:function(e,t,a){"use strict";var n=a(32),r=a(47),c=a(148),o=a(146),s=a(149),i=a(1),u=a.n(i),l=a(33),b=a(17),d=a(50),p=a(58),f=a(893),m=a(569),E=a.n(m),h=function(e){var t=e.handleOpenModal;return u.a.createElement(f.a,{id:E.a.AppbarNonAuth,fixed:"top",borderless:!0,color:"blue",inverted:!0},u.a.createElement(f.a.Item,null,"Goal Plan"),u.a.createElement(f.a.Menu,{position:"right"},u.a.createElement(f.a.Item,{className:E.a.menuItem,onClick:function(){return t("RegisterModal",{})}},"Register"),u.a.createElement(f.a.Item,{className:E.a.menuItem,onClick:function(){return t("LoginModal",{item:{email:"",password:""}})}},"Log In")))},O=a(219),j=a(570),g=a.n(j),k=function(e){var t=e.handleLogout;return u.a.createElement(f.a,{id:g.a.AppbarAuth,fixed:"top",borderless:!0,color:"blue",inverted:!0},u.a.createElement(f.a.Item,{as:O.b,to:"/book",className:g.a.menuItem,activeClassName:g.a.activeItem},"Book"),u.a.createElement(f.a.Item,{as:O.b,to:"/word",className:g.a.menuItem,activeClassName:g.a.activeItem},"Word"),u.a.createElement(f.a.Item,{as:O.b,to:"/todo",className:g.a.menuItem,activeClassName:g.a.activeItem},"Todo"),u.a.createElement(f.a.Menu,{position:"right"},u.a.createElement(f.a.Item,{className:g.a.menuItem,onClick:t},"Log Out")))},_=a(571),v=a.n(_),x=a(561),I=function(e){var t=e.children,a=e.auth,n=e.handleLogout,r=e.handleOpenModal,c=e.match;Object(p.a)(e,["children","auth","handleLogout","handleOpenModal","match"]);return u.a.createElement("div",{id:v.a.pageWrap},a&&"/welcome"===c.path&&u.a.createElement(d.Redirect,{to:"/book"}),!a&&u.a.createElement(h,{handleOpenModal:r}),a&&u.a.createElement(k,{handleLogout:n}),u.a.createElement("main",{className:v.a.mainContent},t),u.a.createElement(x.a,null))},w=a(12),S=a(22),T=a(151),C=a(36),L=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).handleLogout=function(){C.a.doSignOut(),a.props.clearAuth()},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(I,Object.assign({},this.props,{handleLogout:this.handleLogout}))}}]),t}(i.Component),M=Object(l.connect)(function(e){return{auth:Object(T.a)(e)}},function(e){return{handleOpenModal:function(t,a){return e(S.a.setModal(t,a))},clearAuth:function(){return e(w.a.clearUser())}}});t.a=Object(b.d)(M,d.withRouter)(L)},605:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"e",function(){return c}),a.d(t,"a",function(){return o}),a.d(t,"d",function(){return s}),a.d(t,"c",function(){return i});var n=a(104),r=function(e){return e[n.b].get("items")},c=function(e){return e[n.b].get("isLoadingItems")},o=function(e){return e[n.b].get("item")},s=function(e){return e[n.b].get("isLoadingItem")},i=function(e){return e[n.b].get("filter")}},647:function(e,t,a){"use strict";var n,r=a(5),c=a(10),o=a(104),s=a(23),i=a(549),u=a(48),l=Object(s.createReducer)(o.a,(n={},Object(r.a)(n,i.b.GET_ITEMS_REQUEST,function(e){return e.set("isLoadingItems",!0)}),Object(r.a)(n,i.b.GET_ITEMS_FAILURE,function(e){return e.set("isLoadingItems",!1)}),Object(r.a)(n,i.b.GET_ITEMS_SUCCESS,function(e,t){var a=t.items;return e.set("items",Object(c.fromJS)(a)).set("isLoadingItems",!1)}),Object(r.a)(n,i.b.CLEAR_ITEMS,function(e){return e.set("items",Object(c.fromJS)([]))}),Object(r.a)(n,i.b.GET_ITEM_REQUEST,function(e){return e.set("isLoadingItem",!0)}),Object(r.a)(n,i.b.GET_ITEM_SUCCESS,function(e,t){var a=t.item;return e.set("item",Object(c.fromJS)(a)).set("isLoadingItem",!1)}),Object(r.a)(n,i.b.GET_ITEM_FAILURE,function(e){return e.set("isLoadingItem",!1)}),Object(r.a)(n,i.b.CLEAR_ITEM,function(e){return e.set("item",Object(c.fromJS)({}))}),Object(r.a)(n,i.b.SET_FILTER,function(e,t){var a=t.name,n=t.value;return e.setIn(["filter",a],n)}),n));u.a.register(o.b,l)},653:function(e,t,a){"use strict";var n=a(58),r=a(14),c=a.n(r),o=a(4),s=a(549),i=a(538),u=a(22),l=a(39),b=function(e){return l.a.get("/api/books/",e)},d=function(e){return l.a.get("/api/books/".concat(e))},p=function(e){return l.a.post("/api/books/",e)},f=function(e,t){return l.a.put("/api/books/".concat(e),t)},m=function(e){return l.a.delete("/api/books/".concat(e))},E=function(e,t){return l.a.put("/api/books/status/".concat(e),{status:t})},h=function(e,t){return l.a.put("/api/books/review/".concat(e),t)},O=a(605),j=a(107),g=a(104),k=c.a.mark(C),_=c.a.mark(L),v=c.a.mark(M),x=c.a.mark(A),I=c.a.mark(y),w=c.a.mark(R),S=c.a.mark(N),T=c.a.mark(B);function C(e){var t,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filter,n.prev=1,n.next=4,Object(o.b)(b,t);case 4:if("fail"!==(a=n.sent).data.result){n.next=7;break}throw new Error(a.error);case 7:return n.next=9,Object(o.c)({type:s.b.GET_ITEMS_SUCCESS,items:a.data.items});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(o.c)({type:s.b.GET_ITEMS_FAILURE});case 15:case"end":return n.stop()}},k,this,[[1,11]])}function L(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.values,r.prev=1,console.log(t),r.next=5,Object(o.c)(u.a.showLoadingAction());case 5:return r.next=7,Object(o.b)(p,t);case 7:if("fail"!==(a=r.sent).data.result){r.next=10;break}throw new Error(a.data.error);case 10:return r.next=12,Object(o.c)({type:s.b.CREATE_ITEM_SUCCESS});case 12:return r.next=14,Object(o.d)(O.c);case 14:if((n=r.sent).get("status")!==t.status){r.next=18;break}return r.next=18,Object(o.c)(s.a.getItemsRequest(n.toJS()));case 18:return r.next=20,Object(o.c)(i.a.showNotification("Create book","Create book success","blue"));case 20:return r.next=22,Object(o.c)(u.a.hideLoadingAction());case 22:return r.next=24,Object(o.c)(u.a.clearModal());case 24:r.next=34;break;case 26:return r.prev=26,r.t0=r.catch(1),r.next=30,Object(o.c)({type:s.b.CREATE_ITEM_FAILURE});case 30:return r.next=32,Object(o.c)(i.a.showNotification("Create book",r.t0.message,"red"));case 32:return r.next=34,Object(o.c)(u.a.hideLoadingAction());case 34:case"end":return r.stop()}},_,this,[[1,26]])}function M(e){var t,a,r,l,b;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.c)(u.a.showLoadingAction());case 4:return a=t.id,r=Object(n.a)(t,["id"]),c.next=7,Object(o.b)(f,a,r);case 7:if("fail"!==(l=c.sent).data.result){c.next=10;break}throw new Error(l.data.error);case 10:return c.next=12,Object(o.c)({type:s.b.EDIT_ITEM_SUCCESS});case 12:return c.next=14,Object(o.d)(O.c);case 14:return b=c.sent,c.next=17,Object(o.c)(s.a.getItemsRequest(b.toJS()));case 17:return c.next=19,Object(o.c)(i.a.showNotification("Edit book","Edit book success","blue"));case 19:return c.next=21,Object(o.c)(u.a.hideLoadingAction());case 21:return c.next=23,Object(o.c)(u.a.clearModal());case 23:c.next=33;break;case 25:return c.prev=25,c.t0=c.catch(1),c.next=29,Object(o.c)({type:s.b.EDIT_ITEM_FAILURE});case 29:return c.next=31,Object(o.c)(i.a.showNotification("Edit book",c.t0.message,"red"));case 31:return c.next=33,Object(o.c)(u.a.hideLoadingAction());case 33:case"end":return c.stop()}},v,this,[[1,25]])}function A(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.values,r.prev=1,r.next=4,Object(o.c)(u.a.showLoadingAction());case 4:return r.next=6,Object(o.b)(m,t._id);case 6:if("fail"!==(a=r.sent).data.result){r.next=9;break}throw new Error(a.data.error);case 9:return r.next=11,Object(o.c)({type:s.b.DELETE_ITEM_SUCCESS});case 11:return r.next=13,Object(o.d)(O.c);case 13:return n=r.sent,r.next=16,Object(o.c)(s.a.getItemsRequest(n.toJS()));case 16:return r.next=18,Object(o.c)(i.a.showNotification("Delete book","Delete book success","blue"));case 18:return r.next=20,Object(o.c)(u.a.hideLoadingAction());case 20:return r.next=22,Object(o.c)(u.a.clearModal());case 22:r.next=32;break;case 24:return r.prev=24,r.t0=r.catch(1),r.next=28,Object(o.c)({type:s.b.DELETE_ITEM_FAILURE});case 28:return r.next=30,Object(o.c)(i.a.showNotification("Delete book",r.t0.message,"red"));case 30:return r.next=32,Object(o.c)(u.a.hideLoadingAction());case 32:case"end":return r.stop()}},x,this,[[1,24]])}function y(e){var t,a,n,r;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,a=e.status,c.prev=1,c.next=4,Object(o.b)(E,t,a);case 4:if("fail"!==(n=c.sent).data.result){c.next=7;break}throw new Error(n.data.error);case 7:return c.next=9,Object(o.c)({type:s.b.CHANGE_STATUS_SUCCESS});case 9:return c.next=11,Object(o.d)(O.c);case 11:return r=c.sent,c.next=14,Object(o.c)(s.a.getItemsRequest(r.toJS()));case 14:return c.next=16,Object(o.c)(i.a.showNotification("Change status","Change status success","blue"));case 16:c.next=24;break;case 18:return c.prev=18,c.t0=c.catch(1),c.next=22,Object(o.c)({type:s.b.CHANGE_STATUS_FAILURE});case 22:return c.next=24,Object(o.c)(i.a.showNotification("change status",c.t0.message,"red"));case 24:case"end":return c.stop()}},I,this,[[1,18]])}function R(e){var t,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(o.b)(d,t);case 4:if(a=n.sent,console.log(a.data),"fail"!==a.data.result){n.next=8;break}throw new Error(a.data.error);case 8:return n.next=10,Object(o.c)({type:s.b.GET_ITEM_SUCCESS,item:a.data.item});case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(o.c)({type:s.b.GET_ITEM_FAILURE});case 16:case"end":return n.stop()}},w,this,[[1,12]])}function N(e){var t,a,r,l;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.c)(u.a.showLoadingAction());case 4:return a=t.id,r=Object(n.a)(t,["id"]),c.next=7,Object(o.b)(h,a,r);case 7:if("fail"!==(l=c.sent).data.result){c.next=10;break}throw new Error(l.data.error);case 10:return c.next=12,Object(o.c)({type:s.b.ADD_REVIEW_SUCCESS});case 12:return c.next=14,Object(o.c)(s.a.getItemRequest(a));case 14:return c.next=16,Object(o.c)(i.a.showNotification("Add review","Add review success","blue"));case 16:return c.next=18,Object(o.c)(u.a.hideLoadingAction());case 18:return c.next=20,Object(o.c)(u.a.clearModal());case 20:c.next=30;break;case 22:return c.prev=22,c.t0=c.catch(1),c.next=26,Object(o.c)({type:s.b.ADD_REVIEW_FAILURE});case 26:return c.next=28,Object(o.c)(i.a.showNotification("add Review",c.t0.message,"red"));case 28:return c.next=30,Object(o.c)(u.a.hideLoadingAction());case 30:case"end":return c.stop()}},S,this,[[1,22]])}function B(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)([Object(o.f)(s.b.GET_ITEMS_REQUEST,C),Object(o.f)(s.b.CREATE_ITEM_REQUEST,L),Object(o.f)(s.b.EDIT_ITEM_REQUEST,M),Object(o.f)(s.b.DELETE_ITEM_REQUEST,A),Object(o.f)(s.b.CHANGE_STATUS_REQUEST,y),Object(o.f)(s.b.GET_ITEM_REQUEST,R),Object(o.f)(s.b.ADD_REVIEW_REQUEST,N)]);case 2:case"end":return e.stop()}},T,this)}j.a.register(g.b,B)},849:function(e,t,a){e.exports={bookWrap:"styles_bookWrap__3aGOl",btnWrap:"styles_btnWrap__30YnV",headerWrap:"styles_headerWrap__30faC",selectWrap:"styles_selectWrap__HEwFS",bookListWrap:"styles_bookListWrap__1LV9o"}},850:function(e,t,a){e.exports={itemWrap:"styles_itemWrap__hRGzu",actionWrap:"styles_actionWrap__2fTW3"}},886:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a(47),c=a(148),o=a(146),s=a(149),i=a(1),u=a.n(i),l=a(33),b=a(17),d=a(10),p=(a(653),a(647),a(549)),f=a(22),m=a(605),E=a(537),h=a(892),O=a(889),j=a(849),g=a.n(j),k=a(575),_=a(558),v=a(50),x=a(885),I=a(557),w=a(850),S=a.n(w),T=function(e){var t=e.item,a=e.openModalEditBook,n=e.openModalDeleteBook,r=e.handleChangeStatus,c=e.seeBookDetail;return u.a.createElement("div",{className:S.a.itemWrap,onClick:c},u.a.createElement("p",null,t.get("title")),u.a.createElement("p",null,t.get("author")),u.a.createElement("div",{className:S.a.actionWrap},u.a.createElement(x.a,{value:t.get("status"),options:I.b,icon:"arrow circle down",button:!0,labeled:!0,className:"icon",onChange:r}),u.a.createElement(O.a,{icon:"edit",primary:!0,circular:!0,onClick:a}),u.a.createElement(O.a,{icon:"delete",negative:!0,circular:!0,onClick:n})))},C=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).openModalEditBook=function(e){e.stopPropagation();var t=a.props,n=t.item;(0,t.openModal)("CreateEditBookModal",{item:{id:n.get("_id"),title:n.get("title"),author:n.get("author"),status:n.get("status"),rate:n.get("rate"),review:n.get("review")},action:"edit"})},a.openModalDeleteBook=function(e){e.stopPropagation();var t=a.props,n=t.item;(0,t.openModal)("ConfirmationDialog",{values:n,title:"Confirm Delete Book",content:"Do you want to delete this Book",type:"book"})},a.handleChangeStatus=function(e,t){var n=t.value,r=a.props,c=r.item,o=r.changeStatus;n!==c.get("status")&&o(c.get("_id"),n)},a.seeBookDetail=function(){var e=a.props,t=e.item;e.history.push("/book/".concat(t.get("_id")))},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(T,Object.assign({openModalDeleteBook:this.openModalDeleteBook,openModalEditBook:this.openModalEditBook,handleChangeStatus:this.handleChangeStatus,seeBookDetail:this.seeBookDetail},this.props))}}]),t}(i.Component),L=Object(l.connect)(function(e){return{}},function(e){return{openModal:function(t,a){return e(f.a.setModal(t,a))},changeStatus:function(t,a){return e(p.a.changeStatusRequest(t,a))}}}),M=Object(b.d)(L,v.withRouter)(C),A=function(e){var t=e.openModalCreateBook,a=e.books,n=e.isLoadingBooks,r=e.setFilter,c=e.filter;return u.a.createElement(k.a,null,u.a.createElement("div",{id:g.a.bookWrap},n&&u.a.createElement(E.a,{active:!0,inline:"centered",size:"big"}),!n&&u.a.createElement("div",{className:g.a.headerWrap},u.a.createElement(h.a,{textAlign:"center",color:"blue",as:"h1"},function(e){switch(e){case"new":return"New Book List";case"reading":return"Reading Book List";case"holding":return"Holding Book List";case"finish":return"Finish Book List";default:return""}}(c.get("status"))),u.a.createElement("div",{className:g.a.selectWrap},u.a.createElement(_.a,{name:"status",value:c.get("status"),options:I.b,handleChange:function(e,t){var a=t.value;return r("status",a)},inputProps:{fluid:!0}}))),!n&&a&&u.a.createElement("div",{className:g.a.bookListWrap},a.size>0?a.map(function(e){return u.a.createElement(M,{key:e.get("_id"),item:e})}):u.a.createElement("p",null,"No books exist")),u.a.createElement("div",{className:g.a.btnWrap},u.a.createElement(O.a,{icon:"add",circular:!0,size:"massive",primary:!0,onClick:t}))))},y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).openModalCreateBook=function(){(0,a.props.openModal)("CreateEditBookModal",{item:{title:"",author:"",status:"reading"},action:"create"})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.filter;(0,e.getListBook)(t.toJS())}},{key:"componentWillUnmount",value:function(){this.props.clearListBook()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.filter,n=t.getListBook;Object(d.is)(e.filter,a)||n(a.toJS())}},{key:"render",value:function(){return u.a.createElement(A,Object.assign({openModalCreateBook:this.openModalCreateBook},this.props))}}]),t}(i.Component),R=Object(l.connect)(function(e){return{books:Object(m.b)(e),book:Object(m.a)(e),isLoadingBooks:Object(m.e)(e),isLoadingBook:Object(m.d)(e),filter:Object(m.c)(e)}},function(e){return{getListBook:function(t){return e(p.a.getItemsRequest(t))},clearListBook:function(){return e(p.a.clearItems())},openModal:function(t,a){return e(f.a.setModal(t,a))},setFilter:function(t,a){return e(p.a.setFilter(t,a))}}});t.default=Object(b.d)(R)(y)}}]);
//# sourceMappingURL=15.21a48ce7.chunk.js.map