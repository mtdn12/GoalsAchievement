(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{403:function(e,t,a){e.exports={wrapper:"styles_wrapper__2rJf3",contentWrapper:"styles_contentWrapper__38BTI"}},404:function(e,t,a){e.exports={appBar:"styles_appBar__3pmVF"}},406:function(e,t,a){"use strict";var n=a(51),r=a(1),c=a.n(r),i=a(383),s=a(403),o=a.n(s),u=a(391),b=a(884),l=a(624),d=a(404),E=a.n(d);var p=function(e){var t=e.handleGoBack,a=e.title;return c.a.createElement(b.a,{borderless:!0,fixed:"top",className:E.a.appBar,color:"blue",inverted:!0},c.a.createElement(b.a.Item,{onClick:t},c.a.createElement(l.a,{name:"arrow left"})),c.a.createElement(b.a.Item,{header:!0,as:"h4"},a))},f=a(43);t.a=Object(f.withRouter)(function(e){var t=e.title,a=e.handleGoBack,r=e.children;Object(n.a)(e,["title","handleGoBack","children"]);return c.a.createElement("div",{className:o.a.wrapper},c.a.createElement(p,{title:t,handleGoBack:a}),c.a.createElement("main",{className:o.a.contentWrapper},r),c.a.createElement(i.a,null),c.a.createElement(u.a,null))})},428:function(e,t,a){"use strict";var n=a(362),r=a.n(n),c=a(363),i=a.n(c),s=(a(4),a(1)),o=a.n(s),u=a(411),b=a(579),l=a(578),d=a(361);function E(e){var t=e.active,a=e.children,n=e.className,c=e.content,s=e.disabled,p=e.indeterminate,f=e.inline,m=e.inverted,j=e.size,O=i()("ui",j,Object(u.a)(t,"active"),Object(u.a)(s,"disabled"),Object(u.a)(p,"indeterminate"),Object(u.a)(m,"inverted"),Object(u.a)(a||c,"text"),Object(u.b)(f,"inline"),"loader",n),v=Object(b.a)(E,e),w=Object(l.a)(E,e);return o.a.createElement(w,r()({},v,{className:O}),d.b.isNil(a)?c:a)}E.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],E.propTypes={},t.a=E},448:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"e",function(){return c}),a.d(t,"a",function(){return i}),a.d(t,"d",function(){return s}),a.d(t,"c",function(){return o});var n=a(84),r=function(e){return e[n.b].get("items")},c=function(e){return e[n.b].get("isLoadingItems")},i=function(e){return e[n.b].get("item")},s=function(e){return e[n.b].get("isLoadingItem")},o=function(e){return e[n.b].get("filter")}},534:function(e,t,a){"use strict";var n,r=a(6),c=a(9),i=a(84),s=a(22),o=a(380),u=a(44),b=Object(s.createReducer)(i.a,(n={},Object(r.a)(n,o.b.GET_ITEMS_REQUEST,function(e){return e.set("isLoadingItems",!0)}),Object(r.a)(n,o.b.GET_ITEMS_FAILURE,function(e){return e.set("isLoadingItems",!1)}),Object(r.a)(n,o.b.GET_ITEMS_SUCCESS,function(e,t){var a=t.items;return e.set("items",Object(c.fromJS)(a)).set("isLoadingItems",!1)}),Object(r.a)(n,o.b.CLEAR_ITEMS,function(e){return e.set("items",Object(c.fromJS)([]))}),Object(r.a)(n,o.b.GET_ITEM_REQUEST,function(e){return e.set("isLoadingItem",!0)}),Object(r.a)(n,o.b.GET_ITEM_SUCCESS,function(e,t){var a=t.item;return e.set("item",Object(c.fromJS)(a)).set("isLoadingItem",!1)}),Object(r.a)(n,o.b.GET_ITEM_FAILURE,function(e){return e.set("isLoadingItem",!1)}),Object(r.a)(n,o.b.CLEAR_ITEM,function(e){return e.set("item",Object(c.fromJS)({}))}),Object(r.a)(n,o.b.SET_FILTER,function(e,t){var a=t.name,n=t.value;return e.setIn(["filter",a],n)}),n));u.a.register(i.b,b)},537:function(e,t,a){"use strict";var n=a(51),r=a(13),c=a.n(r),i=a(5),s=a(380),o=a(375),u=a(21),b=a(36),l=function(e){return b.a.get("/api/books/",e)},d=function(e){return b.a.get("/api/books/".concat(e))},E=function(e){return b.a.post("/api/books/",e)},p=function(e,t){return b.a.put("/api/books/".concat(e),t)},f=function(e){return b.a.delete("/api/books/".concat(e))},m=function(e,t){return b.a.put("/api/books/status/".concat(e),{status:t})},j=function(e,t){return b.a.put("/api/books/review/".concat(e),t)},O=a(448),v=a(88),w=a(84),x=c.a.mark(R),_=c.a.mark(A),h=c.a.mark(M),T=c.a.mark(C),g=c.a.mark(L),I=c.a.mark(U),k=c.a.mark(y),S=c.a.mark(N);function R(e){var t,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filter,n.prev=1,n.next=4,Object(i.b)(l,t);case 4:if("fail"!==(a=n.sent).data.result){n.next=7;break}throw new Error(a.error);case 7:return n.next=9,Object(i.c)({type:s.b.GET_ITEMS_SUCCESS,items:a.data.items});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(i.c)({type:s.b.GET_ITEMS_FAILURE});case 15:case"end":return n.stop()}},x,null,[[1,11]])}function A(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.values,r.prev=1,console.log(t),r.next=5,Object(i.c)(u.a.showLoadingAction());case 5:return r.next=7,Object(i.b)(E,t);case 7:if("fail"!==(a=r.sent).data.result){r.next=10;break}throw new Error(a.data.error);case 10:return r.next=12,Object(i.c)({type:s.b.CREATE_ITEM_SUCCESS});case 12:return r.next=14,Object(i.d)(O.c);case 14:if((n=r.sent).get("status")!==t.status){r.next=18;break}return r.next=18,Object(i.c)(s.a.getItemsRequest(n.toJS()));case 18:return r.next=20,Object(i.c)(o.a.showNotification("Create book","Create book success","blue"));case 20:return r.next=22,Object(i.c)(u.a.hideLoadingAction());case 22:return r.next=24,Object(i.c)(u.a.clearModal());case 24:r.next=34;break;case 26:return r.prev=26,r.t0=r.catch(1),r.next=30,Object(i.c)({type:s.b.CREATE_ITEM_FAILURE});case 30:return r.next=32,Object(i.c)(o.a.showNotification("Create book",r.t0.message,"red"));case 32:return r.next=34,Object(i.c)(u.a.hideLoadingAction());case 34:case"end":return r.stop()}},_,null,[[1,26]])}function M(e){var t,a,r,b,l;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(i.c)(u.a.showLoadingAction());case 4:return a=t.id,r=Object(n.a)(t,["id"]),c.next=7,Object(i.b)(p,a,r);case 7:if("fail"!==(b=c.sent).data.result){c.next=10;break}throw new Error(b.data.error);case 10:return c.next=12,Object(i.c)({type:s.b.EDIT_ITEM_SUCCESS});case 12:return c.next=14,Object(i.d)(O.c);case 14:return l=c.sent,c.next=17,Object(i.c)(s.a.getItemsRequest(l.toJS()));case 17:return c.next=19,Object(i.c)(o.a.showNotification("Edit book","Edit book success","blue"));case 19:return c.next=21,Object(i.c)(u.a.hideLoadingAction());case 21:return c.next=23,Object(i.c)(u.a.clearModal());case 23:c.next=33;break;case 25:return c.prev=25,c.t0=c.catch(1),c.next=29,Object(i.c)({type:s.b.EDIT_ITEM_FAILURE});case 29:return c.next=31,Object(i.c)(o.a.showNotification("Edit book",c.t0.message,"red"));case 31:return c.next=33,Object(i.c)(u.a.hideLoadingAction());case 33:case"end":return c.stop()}},h,null,[[1,25]])}function C(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.values,r.prev=1,r.next=4,Object(i.c)(u.a.showLoadingAction());case 4:return r.next=6,Object(i.b)(f,t._id);case 6:if("fail"!==(a=r.sent).data.result){r.next=9;break}throw new Error(a.data.error);case 9:return r.next=11,Object(i.c)({type:s.b.DELETE_ITEM_SUCCESS});case 11:return r.next=13,Object(i.d)(O.c);case 13:return n=r.sent,r.next=16,Object(i.c)(s.a.getItemsRequest(n.toJS()));case 16:return r.next=18,Object(i.c)(o.a.showNotification("Delete book","Delete book success","blue"));case 18:return r.next=20,Object(i.c)(u.a.hideLoadingAction());case 20:return r.next=22,Object(i.c)(u.a.clearModal());case 22:r.next=32;break;case 24:return r.prev=24,r.t0=r.catch(1),r.next=28,Object(i.c)({type:s.b.DELETE_ITEM_FAILURE});case 28:return r.next=30,Object(i.c)(o.a.showNotification("Delete book",r.t0.message,"red"));case 30:return r.next=32,Object(i.c)(u.a.hideLoadingAction());case 32:case"end":return r.stop()}},T,null,[[1,24]])}function L(e){var t,a,n,r;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,a=e.status,c.prev=1,c.next=4,Object(i.b)(m,t,a);case 4:if("fail"!==(n=c.sent).data.result){c.next=7;break}throw new Error(n.data.error);case 7:return c.next=9,Object(i.c)({type:s.b.CHANGE_STATUS_SUCCESS});case 9:return c.next=11,Object(i.d)(O.c);case 11:return r=c.sent,c.next=14,Object(i.c)(s.a.getItemsRequest(r.toJS()));case 14:return c.next=16,Object(i.c)(o.a.showNotification("Change status","Change status success","blue"));case 16:c.next=24;break;case 18:return c.prev=18,c.t0=c.catch(1),c.next=22,Object(i.c)({type:s.b.CHANGE_STATUS_FAILURE});case 22:return c.next=24,Object(i.c)(o.a.showNotification("change status",c.t0.message,"red"));case 24:case"end":return c.stop()}},g,null,[[1,18]])}function U(e){var t,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(i.b)(d,t);case 4:if(a=n.sent,console.log(a.data),"fail"!==a.data.result){n.next=8;break}throw new Error(a.data.error);case 8:return n.next=10,Object(i.c)({type:s.b.GET_ITEM_SUCCESS,item:a.data.item});case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(i.c)({type:s.b.GET_ITEM_FAILURE});case 16:case"end":return n.stop()}},I,null,[[1,12]])}function y(e){var t,a,r,b;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(i.c)(u.a.showLoadingAction());case 4:return a=t.id,r=Object(n.a)(t,["id"]),c.next=7,Object(i.b)(j,a,r);case 7:if("fail"!==(b=c.sent).data.result){c.next=10;break}throw new Error(b.data.error);case 10:return c.next=12,Object(i.c)({type:s.b.ADD_REVIEW_SUCCESS});case 12:return c.next=14,Object(i.c)(s.a.getItemRequest(a));case 14:return c.next=16,Object(i.c)(o.a.showNotification("Add review","Add review success","blue"));case 16:return c.next=18,Object(i.c)(u.a.hideLoadingAction());case 18:return c.next=20,Object(i.c)(u.a.clearModal());case 20:c.next=30;break;case 22:return c.prev=22,c.t0=c.catch(1),c.next=26,Object(i.c)({type:s.b.ADD_REVIEW_FAILURE});case 26:return c.next=28,Object(i.c)(o.a.showNotification("add Review",c.t0.message,"red"));case 28:return c.next=30,Object(i.c)(u.a.hideLoadingAction());case 30:case"end":return c.stop()}},k,null,[[1,22]])}function N(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)([Object(i.f)(s.b.GET_ITEMS_REQUEST,R),Object(i.f)(s.b.CREATE_ITEM_REQUEST,A),Object(i.f)(s.b.EDIT_ITEM_REQUEST,M),Object(i.f)(s.b.DELETE_ITEM_REQUEST,C),Object(i.f)(s.b.CHANGE_STATUS_REQUEST,L),Object(i.f)(s.b.GET_ITEM_REQUEST,U),Object(i.f)(s.b.ADD_REVIEW_REQUEST,y)]);case 2:case"end":return e.stop()}},S)}v.a.register(w.b,N)},841:function(e,t,a){e.exports={bookWrap:"styles_bookWrap__U6EGG",title:"styles_title__2_F-X",subTitle:"styles_subTitle__3oCoH",reviewWrap:"styles_reviewWrap__3s2V5",review:"styles_review__1mQqS"}},886:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(42),c=a(114),i=a(113),s=a(115),o=a(1),u=a.n(o),b=a(31),l=a(16),d=(a(537),a(534),a(380)),E=a(21),p=a(448),f=a(428),m=a(879),j=a(622),O=a(841),v=a.n(O),w=a(406),x=function(e){var t=e.handleGoBack,a=e.item,n=e.isLoadingItem,r=e.openModalAddReview,c=e.openModalEditReview;return u.a.createElement(w.a,{title:"Book Detail",handleGoBack:t},n&&u.a.createElement(f.a,{active:!0,inline:"centered",size:"big"}),!n&&a&&u.a.createElement("div",{className:v.a.bookWrap},u.a.createElement("div",{className:v.a.infoWrap},u.a.createElement("p",{className:v.a.title},a.get("title")),u.a.createElement("p",{className:v.a.subTitle},a.get("author"))),u.a.createElement("div",{className:v.a.reviewWrap},a.get("review")?u.a.createElement(m.a,{primary:!0,fluid:!0,onClick:c},"Change Review"):u.a.createElement(m.a,{primary:!0,fluid:!0,onClick:r},"Create Review"),u.a.createElement("div",{className:v.a.review},a.get("review")?u.a.createElement("div",null,u.a.createElement(j.a,{color:"blue",ribbon:!0},a.get("rate")),u.a.createElement("pre",null,a.get("review"))):u.a.createElement("p",null,"No review Yet")))))},_=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleGoBack=function(){a.props.history.push("/book")},a.openModalAddReview=function(){var e=a.props,t=e.item;(0,e.openModal)("AddEditReviewModal",{item:{id:t.get("_id"),review:"",rate:""},action:"create"})},a.openModalEditReview=function(){var e=a.props,t=e.item;(0,e.openModal)("AddEditReviewModal",{item:{id:t.get("_id"),review:t.get("review"),rate:t.get("rate")},action:"edit"})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.getItemRequest)(t.params.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.clearItem)()}},{key:"render",value:function(){return u.a.createElement(x,Object.assign({openModalAddReview:this.openModalAddReview,openModalEditReview:this.openModalEditReview,handleGoBack:this.handleGoBack},this.props))}}]),t}(o.Component),h=Object(b.connect)(function(e){return{item:Object(p.a)(e),isLoadingItem:Object(p.d)(e)}},function(e){return{getItemRequest:function(t){return e(d.a.getItemRequest(t))},clearItem:function(){return e(d.a.clearItem())},openModal:function(t,a){return e(E.a.setModal(t,a))}}});t.default=Object(l.d)(h)(_)}}]);
//# sourceMappingURL=13.7b267b54.chunk.js.map