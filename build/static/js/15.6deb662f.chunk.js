(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1026:function(e,t,a){"use strict";a.r(t);var n=a(212),r=a(213),c=a(215),o=a(214),i=a(216),s=a(2),u=a.n(s),b=a(75),l=a(30),d=(a(5),a(721)),p=a(38),f=a(22),E=a(831),h=a(773),m=a(994),O=a(1010),j=a(856),v=a(966),x=a.n(v),w=a(739),k=function(e){var t=e.handleGoBack,a=e.item,n=e.isLoadingItem,r=e.openModalAddReview,c=e.openModalEditReview;return console.log(a.get("review")),u.a.createElement(w.a,{title:"Book Detail",handleGoBack:t},n&&u.a.createElement(m.a,{active:!0,inline:"centered",size:"big"}),!n&&a&&u.a.createElement("div",{className:x.a.bookWrap},u.a.createElement("div",{className:x.a.infoWrap},u.a.createElement("p",{className:x.a.title},a.get("title")),u.a.createElement("p",{className:x.a.subTitle},a.get("author"))),u.a.createElement("div",{className:x.a.reviewWrap},a.get("review")?u.a.createElement(O.a,{primary:!0,fluid:!0,onClick:c},"Change Review"):u.a.createElement(O.a,{primary:!0,fluid:!0,onClick:r},"Create Review"),u.a.createElement("div",{className:x.a.review},a.get("review")?u.a.createElement("div",null,u.a.createElement(j.a,{color:"blue",ribbon:!0},a.get("rate")),u.a.createElement("pre",null,a.get("review"))):u.a.createElement("p",null,"No review Yet")))))},_=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).handleGoBack=function(){a.props.history.push("/book")},a.openModalAddReview=function(){var e=a.props,t=e.item;(0,e.openModal)("AddEditReviewModal",{item:{id:t.get("_id"),review:"",rate:""},action:"create"})},a.openModalEditReview=function(){var e=a.props,t=e.item;(0,e.openModal)("AddEditReviewModal",{item:{id:t.get("_id"),review:t.get("review"),rate:t.get("rate")},action:"edit"})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.getItemRequest)(t.params.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.clearItem)()}},{key:"render",value:function(){return u.a.createElement(k,Object.assign({openModalAddReview:this.openModalAddReview,openModalEditReview:this.openModalEditReview,handleGoBack:this.handleGoBack},this.props))}}]),t}(s.Component),g=Object(b.connect)(function(e){return{item:Object(h.a)(e),isLoadingItem:Object(h.d)(e)}},function(e){return{getItemRequest:function(t){return e(p.a.getItemRequest(t))},clearItem:function(){return e(p.a.clearItem())},openModal:function(t,a){return e(f.a.setModal(t,a))}}}),T=Object(d.a)({key:"book",saga:E.a});t.default=Object(l.d)(g,T)(_)},729:function(e,t,a){e.exports={messageWrapper:"styles_messageWrapper__1FvZ9"}},731:function(e,t,a){"use strict";var n=a(212),r=a(213),c=a(215),o=a(214),i=a(216),s=a(2),u=a.n(s),b=a(75),l=a(30),d=a(140),p=a(1013),f=a(1006),E=a(729),h=a.n(E),m=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={animation:"fade up",duration:500},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.onClose,n=e.color,r=e.message,c=e.title,o=this.state,i=o.animation,s=o.duration;return u.a.createElement(p.a,{closeOnTriggerClick:!0,open:t,transition:{animation:i,duration:s},onClose:a},u.a.createElement(f.a,{color:n,attached:"top",className:h.a.messageWrapper,onDismiss:a,header:c,content:r}))}}]),t}(s.Component),O=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.a.createElement(m,this.props)}}]),t}(u.a.Component);O.propsTypes={};var j=Object(b.connect)(function(e){return{open:e.notification.get("open"),title:e.notification.get("title"),message:e.notification.get("message"),color:e.notification.get("color")}},function(e){return{onClose:function(){return e(d.a.hideNotification())}}});t.a=Object(l.d)(j)(O)},735:function(e,t,a){e.exports={wrapper:"styles_wrapper__2rJf3",contentWrapper:"styles_contentWrapper__38BTI"}},737:function(e,t,a){e.exports={appBar:"styles_appBar__3pmVF"}},739:function(e,t,a){"use strict";var n=a(76),r=a(2),c=a.n(r),o=a(731),i=a(735),s=a.n(i),u=a(732),b=a(1019),l=a(857),d=a(737),p=a.n(d);var f=function(e){var t=e.handleGoBack,a=e.title;return c.a.createElement(b.a,{borderless:!0,fixed:"top",className:p.a.appBar,color:"blue",inverted:!0},c.a.createElement(b.a.Item,{onClick:t},c.a.createElement(l.a,{name:"arrow left"})),c.a.createElement(b.a.Item,{header:!0,as:"h4"},a))},E=a(999);t.a=Object(E.a)(function(e){var t=e.title,a=e.handleGoBack,r=e.children;Object(n.a)(e,["title","handleGoBack","children"]);return c.a.createElement("div",{className:s.a.wrapper},c.a.createElement(f,{title:t,handleGoBack:a}),c.a.createElement("main",{className:s.a.contentWrapper},r),c.a.createElement(o.a,null),c.a.createElement(u.a,null))})},773:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"a",function(){return c}),a.d(t,"d",function(){return o}),a.d(t,"c",function(){return i});var n=function(e){return e.book.get("items")},r=function(e){return e.book.get("isLoadingItems")},c=function(e){return e.book.get("item")},o=function(e){return e.book.get("isLoadingItem")},i=function(e){return e.book.get("filter")}},831:function(e,t,a){"use strict";var n=a(76),r=a(31),c=a.n(r),o=a(11),i=a(38),s=a(140),u=a(22),b=a(222),l=a(220),d=function(e,t){return l.a.get("/api/books/",Object(b.a)({},t),{headers:{Authorization:e}})},p=function(e,t){return l.a.get("/api/books/".concat(t),{},{headers:{Authorization:e}})},f=function(e,t){return l.a.post("/api/books/",Object(b.a)({},t),{headers:{Authorization:e}})},E=function(e,t,a){return l.a.put("/api/books/".concat(t),Object(b.a)({},a),{headers:{Authorization:e}})},h=function(e,t){return l.a.delete("/api/books/".concat(t),{},{headers:{Authorization:e}})},m=function(e,t,a){return l.a.put("/api/books/status/".concat(t),{status:a},{headers:{Authorization:e}})},O=function(e,t,a){return l.a.put("/api/books/review/".concat(t),Object(b.a)({},a),{headers:{Authorization:e}})},j=a(141),v=a(773),x=c.a.mark(S),w=c.a.mark(R),k=c.a.mark(y),_=c.a.mark(C),g=c.a.mark(M),T=c.a.mark(L),A=c.a.mark(U),I=c.a.mark(N);function S(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filter,r.prev=1,r.next=4,Object(o.d)(j.e);case 4:return a=r.sent,r.next=7,Object(o.b)(d,a,t);case 7:if("fail"!==(n=r.sent).data.result){r.next=10;break}throw new Error(n.error);case 10:return r.next=12,Object(o.c)({type:i.b.GET_ITEMS_SUCCESS,items:n.data.items});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(o.c)({type:i.b.GET_ITEMS_FAILURE});case 18:case"end":return r.stop()}},x,this,[[1,14]])}function R(e){var t,a,n,r;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.d)(j.e);case 4:return a=c.sent,c.next=7,Object(o.c)(u.a.showLoadingAction());case 7:return c.next=9,Object(o.b)(f,a,t);case 9:if("fail"!==(n=c.sent).data.result){c.next=12;break}throw new Error(n.data.error);case 12:return c.next=14,Object(o.c)({type:i.b.CREATE_ITEM_SUCCESS});case 14:return c.next=16,Object(o.d)(v.c);case 16:if((r=c.sent).get("status")!==t.status){c.next=20;break}return c.next=20,Object(o.c)(i.a.getItemsRequest(r.toJS()));case 20:return c.next=22,Object(o.c)(s.a.showNotification("Create book","Create book success","blue"));case 22:return c.next=24,Object(o.c)(u.a.hideLoadingAction());case 24:return c.next=26,Object(o.c)(u.a.clearModal());case 26:c.next=36;break;case 28:return c.prev=28,c.t0=c.catch(1),c.next=32,Object(o.c)({type:i.b.CREATE_ITEM_FAILURE});case 32:return c.next=34,Object(o.c)(s.a.showNotification("Create book",c.t0.message,"red"));case 34:return c.next=36,Object(o.c)(u.a.hideLoadingAction());case 36:case"end":return c.stop()}},w,this,[[1,28]])}function y(e){var t,a,r,b,l,d;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.d)(j.e);case 4:return a=c.sent,c.next=7,Object(o.c)(u.a.showLoadingAction());case 7:return r=t.id,b=Object(n.a)(t,["id"]),c.next=10,Object(o.b)(E,a,r,b);case 10:if("fail"!==(l=c.sent).data.result){c.next=13;break}throw new Error(l.data.error);case 13:return c.next=15,Object(o.c)({type:i.b.EDIT_ITEM_SUCCESS});case 15:return c.next=17,Object(o.d)(v.c);case 17:return d=c.sent,c.next=20,Object(o.c)(i.a.getItemsRequest(d.toJS()));case 20:return c.next=22,Object(o.c)(s.a.showNotification("Edit book","Edit book success","blue"));case 22:return c.next=24,Object(o.c)(u.a.hideLoadingAction());case 24:return c.next=26,Object(o.c)(u.a.clearModal());case 26:c.next=36;break;case 28:return c.prev=28,c.t0=c.catch(1),c.next=32,Object(o.c)({type:i.b.EDIT_ITEM_FAILURE});case 32:return c.next=34,Object(o.c)(s.a.showNotification("Edit book",c.t0.message,"red"));case 34:return c.next=36,Object(o.c)(u.a.hideLoadingAction());case 36:case"end":return c.stop()}},k,this,[[1,28]])}function C(e){var t,a,n,r;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.d)(j.e);case 4:return a=c.sent,c.next=7,Object(o.c)(u.a.showLoadingAction());case 7:return c.next=9,Object(o.b)(h,a,t._id);case 9:if("fail"!==(n=c.sent).data.result){c.next=12;break}throw new Error(n.data.error);case 12:return c.next=14,Object(o.c)({type:i.b.DELETE_ITEM_SUCCESS});case 14:return c.next=16,Object(o.d)(v.c);case 16:return r=c.sent,c.next=19,Object(o.c)(i.a.getItemsRequest(r.toJS()));case 19:return c.next=21,Object(o.c)(s.a.showNotification("Delete book","Delete book success","blue"));case 21:return c.next=23,Object(o.c)(u.a.hideLoadingAction());case 23:return c.next=25,Object(o.c)(u.a.clearModal());case 25:c.next=35;break;case 27:return c.prev=27,c.t0=c.catch(1),c.next=31,Object(o.c)({type:i.b.DELETE_ITEM_FAILURE});case 31:return c.next=33,Object(o.c)(s.a.showNotification("Delete book",c.t0.message,"red"));case 33:return c.next=35,Object(o.c)(u.a.hideLoadingAction());case 35:case"end":return c.stop()}},_,this,[[1,27]])}function M(e){var t,a,n,r,u;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,a=e.status,c.prev=1,c.next=4,Object(o.d)(j.e);case 4:return n=c.sent,c.next=7,Object(o.b)(m,n,t,a);case 7:if("fail"!==(r=c.sent).data.result){c.next=10;break}throw new Error(r.data.error);case 10:return c.next=12,Object(o.c)({type:i.b.CHANGE_STATUS_SUCCESS});case 12:return c.next=14,Object(o.d)(v.c);case 14:return u=c.sent,c.next=17,Object(o.c)(i.a.getItemsRequest(u.toJS()));case 17:return c.next=19,Object(o.c)(s.a.showNotification("Change status","Change status success","blue"));case 19:c.next=27;break;case 21:return c.prev=21,c.t0=c.catch(1),c.next=25,Object(o.c)({type:i.b.CHANGE_STATUS_FAILURE});case 25:return c.next=27,Object(o.c)(s.a.showNotification("change status",c.t0.message,"red"));case 27:case"end":return c.stop()}},g,this,[[1,21]])}function L(e){var t,a,n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,Object(o.d)(j.e);case 4:return a=r.sent,r.next=7,Object(o.b)(p,a,t);case 7:if(n=r.sent,console.log(n.data),"fail"!==n.data.result){r.next=11;break}throw new Error(n.data.error);case 11:return r.next=13,Object(o.c)({type:i.b.GET_ITEM_SUCCESS,item:n.data.item});case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(1),r.next=19,Object(o.c)({type:i.b.GET_ITEM_FAILURE});case 19:case"end":return r.stop()}},T,this,[[1,15]])}function U(e){var t,a,r,b,l;return c.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,c.prev=1,c.next=4,Object(o.d)(j.e);case 4:return a=c.sent,c.next=7,Object(o.c)(u.a.showLoadingAction());case 7:return r=t.id,b=Object(n.a)(t,["id"]),c.next=10,Object(o.b)(O,a,r,b);case 10:if("fail"!==(l=c.sent).data.result){c.next=13;break}throw new Error(l.data.error);case 13:return c.next=15,Object(o.c)({type:i.b.ADD_REVIEW_SUCCESS});case 15:return c.next=17,Object(o.c)(i.a.getItemRequest(r));case 17:return c.next=19,Object(o.c)(s.a.showNotification("Add review","Add review success","blue"));case 19:return c.next=21,Object(o.c)(u.a.hideLoadingAction());case 21:return c.next=23,Object(o.c)(u.a.clearModal());case 23:c.next=33;break;case 25:return c.prev=25,c.t0=c.catch(1),c.next=29,Object(o.c)({type:i.b.ADD_REVIEW_FAILURE});case 29:return c.next=31,Object(o.c)(s.a.showNotification("add Review",c.t0.message,"red"));case 31:return c.next=33,Object(o.c)(u.a.hideLoadingAction());case 33:case"end":return c.stop()}},A,this,[[1,25]])}function N(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)([Object(o.f)(i.b.GET_ITEMS_REQUEST,S),Object(o.f)(i.b.CREATE_ITEM_REQUEST,R),Object(o.f)(i.b.EDIT_ITEM_REQUEST,y),Object(o.f)(i.b.DELETE_ITEM_REQUEST,C),Object(o.f)(i.b.CHANGE_STATUS_REQUEST,M),Object(o.f)(i.b.GET_ITEM_REQUEST,L),Object(o.f)(i.b.ADD_REVIEW_REQUEST,U)]);case 2:case"end":return e.stop()}},I,this)}t.a=N},966:function(e,t,a){e.exports={bookWrap:"styles_bookWrap__U6EGG",title:"styles_title__2_F-X",subTitle:"styles_subTitle__3oCoH",reviewWrap:"styles_reviewWrap__3s2V5",review:"styles_review__1mQqS"}}}]);
//# sourceMappingURL=15.6deb662f.chunk.js.map